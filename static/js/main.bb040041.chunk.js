(this.webpackJsonp45s=this.webpackJsonp45s||[]).push([[0],{13:function(e,t,r){},14:function(e,t,r){},17:function(e,t,r){},18:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r.n(c),a=r(8),i=r.n(a),d=(r(13),r(2)),s=(r(14),r(0)),l=function(e){var t=e.round,r=e.gameScore;return Object(s.jsx)("div",{className:"scoreboard",style:{textAlign:"left"},children:Object(s.jsx)("div",{className:"score",children:Object(s.jsxs)("span",{children:[Object(s.jsxs)("div",{"data-testid":"team1Score",children:["Team 1: ",r[0]]}),Object(s.jsxs)("div",{"data-testid":"team2Score",children:["Team 2: ",r[1]]}),Object(s.jsxs)("div",{"data-testid":"round",children:["Round: ",t]})]})})})},j=function(e){var t=Object(c.useState)(null),r=Object(d.a)(t,2),n=r[0],a=r[1],i=Object(c.useState)(!0),s=Object(d.a)(i,2),l=s[0],j=s[1],o=Object(c.useState)(null),u=Object(d.a)(o,2),b=u[0],h=u[1];return Object(c.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){a(e),j(!1),h(null)})).catch((function(e){"AbortError"===e.name?console.log("fetch aborted"):(j(!1),h(e.message))})),function(){return t.abort()}}),[e]),{data:n,isPending:l,error:b}},o=function(e){var t=e.card;return Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:t.image,alt:"Card",width:"100%",height:"100%"})})},u=function(e){var t=e.deckUrl,r=e.player,c=e.round,n=j(t+"/pile/"+r+"/list/"),a=n.data,i=n.isPending,d=n.error,l=[];return a&&a.piles[r]&&a.piles[r].cards&&(l=a.piles[r].cards),Object(s.jsxs)("div",{children:[d&&Object(s.jsx)("div",{children:d}),i&&Object(s.jsx)("div",{children:"Loading..."}),a&&l&&Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"hand",children:[l[0]&&Object(s.jsx)(o,{card:l[0],round:c}),l[1]&&Object(s.jsx)(o,{card:l[1],round:c}),l[2]&&Object(s.jsx)(o,{card:l[2],round:c}),l[3]&&Object(s.jsx)(o,{card:l[3],round:c}),l[4]&&Object(s.jsx)(o,{card:l[4],round:c})]})})]})},b=r(4),h=r.n(b),O=r(5);function x(){return(x=Object(O.a)(h.a.mark((function e(t,r,c,n,a){var i,d,s,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=p(r),e.next=3,fetch(t+"/shuffle/");case 3:return e.next=5,fetch(t+"/draw/?count=20");case 5:return d=e.sent,e.next=8,d.json();case 8:return s=e.sent,l=f(s.cards),console.log("handCheck",l,s),e.next=13,fetch(t+"/pile/"+i[0]+"/add/?cards="+l[0].toString());case 13:return e.next=15,fetch(t+"/pile/"+i[1]+"/add/?cards="+l[1].toString());case 15:return e.next=17,fetch(t+"/pile/"+i[2]+"/add/?cards="+l[2].toString());case 17:return e.next=19,fetch(t+"/pile/"+i[3]+"/add/?cards="+l[3].toString());case 19:e.sent&&(a(i),n(l),c(!1));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return[[e[0].code,e[1].code,e[2].code,e[12].code,e[13].code],[e[3].code,e[4].code,e[5].code,e[14].code,e[15].code],[e[6].code,e[7].code,e[8].code,e[16].code,e[17].code],[e[9].code,e[10].code,e[11].code,e[18].code,e[19].code]]}function p(e){var t,r=(e-1)%4;return 0===r?t=["player2","player3","player4","player1"]:1===r?t=["player3","player4","player1","player2"]:2===r?t=["player4","player1","player2","player3"]:3===r&&(t=["player1","player2","player3","player4"]),t}function v(e,t,r,c,n){return S.apply(this,arguments)}function S(){return(S=Object(O.a)(h.a.mark((function e(t,r,c,n,a){var i,d,s,l,j,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t+"/pile/discard/add/?cards="+r.toString());case 2:return i=e.sent,e.next=5,i.json();case 5:return e.next=7,fetch(t+"/draw/?count="+r.length);case 7:return d=e.sent,e.next=10,d.json();case 10:if(s=e.sent,console.log("redraw",c,r,s.cards),l=[],s.cards)for(j=0;j<s.cards.length;j++)l.push(s.cards[j].code);return e.next=16,fetch(t+"/pile/"+c+"/add/?cards="+l.toString());case 16:return o=e.sent,e.next=19,o.json();case 19:e.sent&&(n(r.length),a(!1));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=r(3),y=[-35,-21,-18,-13,-11,-10,-9,-8,-7,-6,-5,-4,-3,-2,-1],k=[13,12,11,10,9,8,7,6,5,4,3,2,1,0],m=["5H","JH","AH","KH","QH","0H","9H","8H","7H","6H","4H","3H","2H"],D=["5D","JD","AH","AD","KD","QD","0D","9D","8D","7D","6D","4D","3D","2D"],B=["5S","JS","AH","AS","KS","QS","2S","3S","4S","6S","7S","8S","9S","0S"],C=["5C","JC","AH","AC","KC","QC","2C","3C","4C","6C","7C","8C","9C","0C"],w=["2H","3H","4H","5H","6H","7H","8H","9H","0H","JH","QH","KH"],P=["AD","2D","3D","4D","5D","6D","7D","8D","9D","0D","JD","QD","KD"],H=["0S","9S","8S","7S","6S","5S","4S","3S","2S","AS","JS","QS","KS"],U=["0C","9C","8C","7C","6C","5C","4C","3C","2C","AC","JC","QC","KC"];function N(e){var t,r,c,n;t=r=c=n=0;for(var a=0;a<5;a++){var i=e[a];t+=T(i),r+=I(i),c+=J(i),n+=E(i)}return[t,r,c,n]}function A(e,t){switch(t){case"Hearts":return T(e);case"Diamonds":return I(e);case"Spades":return J(e);case"Clubs":return E(e);default:return 0}}function T(e){return y[m.indexOf(e)]||k[P.indexOf(e)]||k[U.indexOf(e)]||k[H.indexOf(e)]}function I(e){return y[D.indexOf(e)]||k[w.indexOf(e)]||k[U.indexOf(e)]||k[H.indexOf(e)]}function J(e){return y[B.indexOf(e)]||k[P.indexOf(e)]||k[U.indexOf(e)]||k[w.indexOf(e)]}function E(e){return y[C.indexOf(e)]||k[P.indexOf(e)]||k[w.indexOf(e)]||k[H.indexOf(e)]}var K=function(e,t){var r,c;return"Pass"===e.playerBid||("Take"===e.playerBid?(r=t.highBid,c=e.bidder):e.playerBid&&(r=e.playerBid,c=e.bidder)),{highBid:r,highBidder:c}};var Q=function(e){var t=e.deckUrl,r=e.bidData,n=e.sendTrumpSuit,a=Object(c.useState)("Hearts"),i=Object(d.a)(a,2),l=i[0],o=i[1],u=r.highBidder,b=j(t+"/pile/"+u+"/list/"),h=b.data;b.error,b.isPending;if(h)if("player1"===u)!0;else{!1;var O,x,f=h.piles[u].cards,p=[],v=Object(g.a)(f);try{for(v.s();!(x=v.n()).done;)O=x.value,p.push(O.code)}catch(y){v.e(y)}finally{v.f()}var S=function(e){var t=JSON.stringify(e),r=e.sort((function(e,t){return e-t}))[0];return["Hearts","Diamonds","Spades","Clubs"][JSON.parse(t).indexOf(r)]}(N(p));n(S)}return Object(s.jsx)("div",{children:"player1"===r.highBidder&&Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(l)},children:[Object(s.jsxs)("select",{value:l,onChange:function(e){return o(e.target.value)},children:[Object(s.jsx)("option",{value:"Hearts",children:"Hearts"}),Object(s.jsx)("option",{value:"Diamonds",children:"Diamonds"}),Object(s.jsx)("option",{value:"Spades",children:"Spades"}),Object(s.jsx)("option",{value:"Clubs",children:"Clubs"})]}),Object(s.jsx)("button",{children:"Select Suit"})]})})})},R=function(e){var t=e.bidData,r=e.suit,c=e.book,n=t.highBid,a=t.highBidder;return Object(s.jsxs)("div",{children:[!r&&Object(s.jsx)("h3",{children:n+" from "+a+" in..."}),r&&Object(s.jsx)("h3",{children:n+" from "+a+" in "+r}),c&&Object(s.jsxs)("h4",{children:["Book: ",c," "]})]})},W=function(e){var t=e.card;return Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:t.image,alt:"Card",width:"100%",height:"100%"})})};function G(e,t){for(var r=null,c=-50,n=0;n<e.length;n++){var a=A(e[n].code,t);a>c&&(c=a,r=n)}return e[r]}function L(e,t){for(var r=null,c=50,n=0;n<e.length;n++){var a=A(e[n].code,t);a<c&&(c=a,r=n)}return e[r]}function M(){return(M=Object(O.a)(h.a.mark((function e(t,r,c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t+"/pile/discard/add/?cards="+r.code).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){return r}));case 2:c(r);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(e){var t=e.deckUrl,r=e.player,n=(e.position,e.leadSuit,e.sendPlayCard),a=(e.trumpSuit,Object(c.useState)(0)),i=Object(d.a)(a,2),l=i[0],o=i[1],u=j(t+"/pile/"+r+"/list/"),b=u.data,h=(u.error,u.isPending,[]);return b&&(h=b.piles[r].cards),Object(s.jsx)("div",{children:b&&Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t,r){M.apply(this,arguments)}(t,h[l],n)},children:[Object(s.jsxs)("select",{value:l,onChange:function(e){return o(e.target.value)},children:[h[0]&&Object(s.jsx)("option",{value:0,children:h[0].code}),h[1]&&Object(s.jsx)("option",{value:1,children:h[1].code}),h[2]&&Object(s.jsx)("option",{value:2,children:h[2].code}),h[3]&&Object(s.jsx)("option",{value:3,children:h[3].code}),h[4]&&Object(s.jsx)("option",{value:4,children:h[4].code})]}),Object(s.jsx)("button",{children:"Play Card"})]})})},q=function(e){var t=e.deckUrl,r=e.player,n=e.position,a=(e.leadSuit,e.sendPlayCard),i=e.trumpSuit,l=j(t+"/pile/"+r+"/list/"),o=l.data,u=l.error,b=l.isPending,h=Object(c.useState)(null),O=Object(d.a)(h,2),x=O[0],f=O[1];if(o&&!x){var p=function(e,t,r){var c;switch(e){case 1:case 2:c=G(t,r);break;case 3:case 4:c=L(t,r);break;default:console.log("defaultHit")}return c}(n,o.piles[r].cards,i);fetch(t+"/pile/discard/add/?cards="+p.code).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){f(p)}))}return o&&x&&a(x),Object(s.jsxs)("div",{children:[u&&Object(s.jsx)("div",{children:u}),b&&Object(s.jsx)("div",{children:"Thinking...."}),o&&Object(s.jsx)("div",{children:"Dawn"}),";"]})};var z=function(e){var t,r=e.deckUrl,n=e.player,a=e.order,i=e.sendBookInfo,l=e.book,j=e.trumpSuit,o=e.bookInfo,u=Object(c.useState)(""),b=Object(d.a)(u,2),h=b[0],O=b[1],x=Object(c.useState)(""),f=Object(d.a)(x,2),p=f[0],v=f[1],S=Object(c.useState)(""),y=Object(d.a)(S,2),k=y[0],m=y[1],D=Object(c.useState)(""),B=Object(d.a)(D,2),C=B[0],w=B[1],P=Object(c.useState)(""),H=Object(d.a)(P,2),U=H[0],N=H[1],T=Object(c.useState)(1),I=Object(d.a)(T,2),J=I[0],E=I[1],K=l,Q=function(e,t){var r,c=e[e.length-1];return c&&(r=c.winningPlayer),"player2"===r?["player2","player3","player4","player1"]:"player3"===r?["player3","player4","player1","player2"]:"player4"===r?["player4","player1","player2","player3"]:"player1"===r?["player1","player2","player3","player4"]:t}(o,a);if(1===J&&h)N(h.code.charAt(1)),E(2);else if(2===J&&p)E(3);else if(3===J&&k)E(4);else if(4===J&&C)setTimeout((function(){E(5)}),2e3);else if(5===J){l=[h,p,k,C];for(var R=50,G=0;G<l.length;G++){var L=A(l[G].code,j);L<R&&(R=L,t=G)}var M=l[t].code;i({bookNum:K,winningPlayer:Q[t],highCard:M})}function z(e,t){return F(n,Q)===e?Object(s.jsx)(_,{deckUrl:r,player:n,position:e,sendPlayCard:t,trumpSuit:j,leadSuit:U}):Object(s.jsx)(q,{deckUrl:r,player:Q[e-1],position:e,sendPlayCard:t,trumpSuit:j})}return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"hand",children:[J>0&&!h&&z(1,O),J>1&&!p&&z(2,v),J>2&&!k&&z(3,m),J>3&&!C&&z(4,w),4===J&&C&&Object(s.jsx)("div",{children:"Napkins on the table!"}),h&&Object(s.jsx)(W,{card:h}),p&&Object(s.jsx)(W,{card:p}),k&&Object(s.jsx)(W,{card:k}),C&&Object(s.jsx)(W,{card:C})]}),o&&function(){var e,t=[],r=Object(g.a)(o);try{for(r.s();!(e=r.n()).done;)l=e.value,t.push(Object(s.jsxs)("div",{children:[l.bookNum,": ","".concat("player1"===l.winningPlayer||"player3"===l.winningPlayer?"Team 1":"Team 2")," ",l.highCard," ",l.winningPlayer]}))}catch(c){r.e(c)}finally{r.f()}return Object(s.jsx)("div",{children:t})}()]})};function F(e,t){return t.indexOf(e)+1}var V=function(e){var t,r=e.deckUrl,n=e.bidder,a=e.bidData,i=e.dealer,l=e.sendBid,o=Object(c.useState)("Pass"),u=Object(d.a)(o,2),b=u[0],h=u[1],O="player1",x=j(r+"/pile/"+n+"/list/"),f=x.data,p=(x.error,x.isPending,a.highBid);if(f)if(n===O)t=!0;else{t=!1;var v,S,y=f.piles[n].cards,k=[],m=Object(g.a)(y);try{for(m.s();!(S=m.n()).done;)v=S.value,k.push(v.code)}catch(C){m.e(C)}finally{m.f()}var D=function(e,t){var r=["Pass","15","20","25","30","30 No Draw"],c=e.sort((function(e,t){return e-t}))[0],n=null;return c<-25?n="20":c<-5&&(n="15"),n&&r.indexOf(n)<=r.indexOf(t.highBid)&&(n="Pass"),n}(N(k),a);l({bidder:n,playerBid:D})}var B=O===i;return Object(s.jsx)("div",{className:"bid",children:t&&Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:function(){l({bidder:n,playerBid:b})},children:[Object(s.jsxs)("select",{value:b,onChange:function(e){return h(e.target.value)},children:[B&&Object(s.jsx)("option",{value:"Take",children:"Take"}),Object(s.jsx)("option",{value:"Pass",children:"Pass"}),null===p&&Object(s.jsx)("option",{value:"15",children:"15"}),"15"===p&&Object(s.jsx)("option",{value:"20",children:"20"}),Object(s.jsx)("option",{value:"25",children:"25"}),Object(s.jsx)("option",{value:"30",children:"30"}),Object(s.jsx)("option",{value:"30No",children:"30 No Draw"})]}),Object(s.jsx)("button",{children:"Place Bid"})]})})})},X=function(e){var t,r,n=e.deckUrl,a=e.bidOrder,i=e.sendBidData,l=Object(c.useState)(""),j=Object(d.a)(l,2),o=j[0],u=j[1],b=Object(c.useState)(""),h=Object(d.a)(b,2),O=h[0],x=h[1],f=Object(c.useState)(""),p=Object(d.a)(f,2),v=p[0],S=p[1],g=Object(c.useState)(""),y=Object(d.a)(g,2),k=y[0],m=y[1],D=Object(c.useState)(1),B=Object(d.a)(D,2),C=B[0],w=B[1],P=Object(c.useState)({highBid:null,highBidder:null}),H=Object(d.a)(P,2),U=H[0],N=H[1];Object(c.useEffect)((function(){u(""),x(""),S(""),m(""),N({highBid:null,highBidder:null})}),[a]);var A=a[C-1],T=a[3];switch(C){case 1:if(o){var I=K(o,U),J=I.highBid,E=I.highBidder;J?(N({highBid:J,highBidder:E}),w(2)):w(2)}break;case 2:if(O){var Q=K(O,U),R=Q.highBid,W=Q.highBidder;R?(N({highBid:R,highBidder:W}),w(3)):w(3)}else t=o.playerBid,r=o.bidder;break;case 3:if(v){var G=K(v,U),L=G.highBid,M=G.highBidder;L?(N({highBid:L,highBidder:M}),w(4)):w(4)}else t=O.playerBid,r=O.bidder;break;case 4:if(k){var _=K(k,U),q=_.highBid,z=_.highBidder;q?(N({highBid:q,highBidder:z}),w(5)):w(5)}else t=v.playerBid,r=v.bidder;break;case 5:t=k.playerBid,r=k.bidder,console.log("sendBid",U),i(U)}return Object(s.jsxs)("div",{children:[U.highBid&&Object(s.jsx)("div",{children:Object(s.jsxs)("div",{children:["High Bid: ",U.highBidder," ",U.highBid]})}),r&&Object(s.jsx)("div",{children:Object(s.jsxs)("div",{children:["Last Bid: ",r," ",t||"Pass"]})}),!o&&Object(s.jsx)("div",{children:Object(s.jsxs)("div",{"data-testid":"firstBidder",children:[a[0]," to make first bid."]})}),1===C&&Object(s.jsx)(V,{deckUrl:n,bidder:A,bidData:U,dealer:T,sendBid:u}),2===C&&Object(s.jsx)(V,{deckUrl:n,bidder:A,bidData:U,dealer:T,sendBid:x}),3===C&&Object(s.jsx)(V,{deckUrl:n,bidder:A,bidData:U,dealer:T,sendBid:S}),4===C&&Object(s.jsx)(V,{deckUrl:n,bidder:A,bidData:U,dealer:T,sendBid:m})]})},Y=function(e){var t=e.deckUrl,r=e.drawer,n=(e.trumpSuit,e.sendDraw),a=Object(c.useState)(!1),i=Object(d.a)(a,2),l=i[0],o=i[1],u=Object(c.useState)(!1),b=Object(d.a)(u,2),h=b[0],O=b[1],x=Object(c.useState)(!1),f=Object(d.a)(x,2),p=f[0],S=f[1],g=Object(c.useState)(!1),y=Object(d.a)(g,2),k=y[0],m=y[1],D=Object(c.useState)(!1),B=Object(d.a)(D,2),C=B[0],w=B[1],P=Object(c.useState)(!0),H=Object(d.a)(P,2),U=(H[0],H[1]),N=j(t+"/pile/"+r+"/list/"),A=N.data;N.error,N.isPending;return Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault();for(var c=[l,h,p,k,C],a=[],i=0;i<5;i++)c[i]&&a.push(A.piles[r].cards[i].code);v(t,a,r,n,U)},children:[Object(s.jsxs)("div",{className:"discardHand",children:[Object(s.jsx)("input",{type:"checkbox",name:"card0",onChange:function(e){return o(e.target.checked)},checked:l,className:"dischardCheckBox"}),Object(s.jsx)("input",{type:"checkbox",name:"card1",onChange:function(e){return O(e.target.checked)},checked:h}),Object(s.jsx)("input",{type:"checkbox",name:"card2",onClick:function(e){return S(e.target.checked)},checked:p}),Object(s.jsx)("input",{type:"checkbox",name:"card3",onChange:function(e){return m(e.target.checked)},checked:k}),Object(s.jsx)("input",{type:"checkbox",name:"card4",onChange:function(e){return w(e.target.checked)},checked:C})]}),Object(s.jsx)("button",{children:"Discard Selected"})]})},Z=function(e){var t=e.deckUrl,r=e.drawer,n=e.trumpSuit,a=e.sendDraw,i=Object(c.useState)(null),l=Object(d.a)(i,2),o=l[0],u=l[1],b=Object(c.useState)(!0),h=Object(d.a)(b,2),O=h[0],x=h[1],f=j(t+"/pile/"+r+"/list/"),p=f.data,S=f.error,y=f.isPending;return Object(c.useEffect)((function(){if(p){var e,c,a=p.piles[r].cards,i=[],d=Object(g.a)(a);try{for(d.s();!(c=d.n()).done;)"AH"!==(e=c.value).code&&e.code.charAt(1)!==n.charAt(0)&&i.push(e.code)}catch(s){d.e(s)}finally{d.f()}v(t,i,r,u,x)}}),[p]),p&&o&&!O&&a(o),Object(s.jsxs)("div",{children:[S&&Object(s.jsx)("div",{children:S}),y&&Object(s.jsx)("div",{children:"Thinking...."}),p&&Object(s.jsx)("div",{children:"Done"}),";"]})},$=function(e){var t=e.deckUrl,r=e.roundOrder,n=e.trumpSuit,a=e.sendDiscardData,i=Object(c.useState)(""),l=Object(d.a)(i,2),j=l[0],o=l[1],u=Object(c.useState)(""),b=Object(d.a)(u,2),h=b[0],O=b[1],x=Object(c.useState)(""),f=Object(d.a)(x,2),p=f[0],v=f[1],S=Object(c.useState)(""),g=Object(d.a)(S,2),y=g[0],k=g[1],m=Object(c.useState)(1),D=Object(d.a)(m,2),B=D[0],C=D[1];switch(B){case 1:j&&C(2);break;case 2:h&&C(3);break;case 3:p&&C(4);break;case 4:y&&C(5);break;case 5:a(!0)}var w=r[B-1];function P(e,c){return F("player1",r)===e?Object(s.jsx)(Y,{deckUrl:t,drawer:w,trumpSuit:n,sendDraw:c}):Object(s.jsx)(Z,{deckUrl:t,drawer:w,trumpSuit:n,sendDraw:c})}return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{children:[B>0&&!j&&P(1,o),B>1&&!h&&P(2,O),B>2&&!p&&P(3,v),B>3&&!y&&P(4,k),4===B&&y&&Object(s.jsx)("div",{children:"Hey!"})]}),Object(s.jsxs)("div",{children:[j&&Object(s.jsxs)("div",{children:[r[0]," draws ",j]}),h&&Object(s.jsxs)("div",{children:[r[1]," draws ",h]}),p&&Object(s.jsxs)("div",{children:[r[2]," draws ",p]}),y&&Object(s.jsxs)("div",{children:[r[3]," draws ",y]})]})]})},ee=function(e){var t=e.deckUrl,r=e.round,n=e.sendRoundScore,a=e.newRound,i=Object(c.useState)(null),l=Object(d.a)(i,2),j=l[0],o=l[1],b=Object(c.useState)(!0),h=Object(d.a)(b,2),O=h[0],f=h[1],p=Object(c.useState)(""),v=Object(d.a)(p,2),S=v[0],g=v[1],y=Object(c.useState)("Deal"),k=Object(d.a)(y,2),m=k[0],D=k[1],B=Object(c.useState)(""),C=Object(d.a)(B,2),w=C[0],P=C[1],H=Object(c.useState)(!1),U=Object(d.a)(H,2),N=U[0],T=U[1],I=Object(c.useState)(null),J=Object(d.a)(I,2),E=J[0],K=J[1],W=Object(c.useState)(1),G=Object(d.a)(W,2),L=G[0],M=G[1],_=Object(c.useState)([]),q=Object(d.a)(_,2),F=q[0],V=q[1],Y=Object(c.useState)(null),Z=Object(d.a)(Y,2),ee=Z[0],te=Z[1];a&&"Over"===m&&(o(null),f(!0),g(""),D("Deal"),P(""),T(!1),K(null),M(1),V([]),te(null),console.log("wipe"));var re="player1";Object(c.useEffect)((function(){!function(e,t,r,c,n){x.apply(this,arguments)}(t,r,f,o,te)}),[t,r]),t&&"Deal"===m&&!O&&D("Bid"),S&&"Bid"===m&&!O&&D("SuitSelect"),w&&"SuitSelect"===m&&D("Discard"),N&&"Discard"===m&&D("Play"),E&&(F[L-1]=E,V(F),K(""),M(L+1)),"Play"===m&&5===F.length&&(D("Winner"),M(0));var ce=0,ne=0;if("Winner"===m){for(var ae=50,ie=null,de=0;de<5;de++){"player1"===F[de].winningPlayer||"player3"===F[de].winningPlayer?ce+=1:ne+=1;var se=A(F[de].highCard,w);ae>se&&(ae=se,ie=F[de].winningPlayer)}"player1"===ie||"player3"===ie?ce+=1:ne+=1,6===ce&&(ce=9),6===ne&&(ne=9);var le=S.highBid;"player1"===S.highBidder||"player3"===S.highBidder?"15"===le&&ce<3?ce=-3:"20"===le&&ce<4?ce=-4:"25"===le&&ce<5?ce=-5:"30"===le&&ce<6?ce=-6:"30No"===le&&ne<6&&(ce=-12):"15"===le&&ne<3?ne=-3:"20"===le&&ne<4?ne=-4:"25"===le&&ne<5?ne=-5:"30"===le&&ne<6?ne=-6:"30No"===le&&ne<6&&(ne=-12)}return Object(s.jsxs)("div",{className:"content",children:["Deal"===m&&O&&Object(s.jsx)("div",{children:"Dealing...."}),"Bid"===m&&j&&ee&&Object(s.jsxs)("div",{children:[Object(s.jsx)(u,{deckUrl:t,player:re,stage:m}),Object(s.jsx)(X,{deckUrl:t,bidOrder:ee,sendBidData:g})]}),"SuitSelect"===m&&Object(s.jsxs)("div",{children:[Object(s.jsx)(R,{bidData:S}),Object(s.jsx)(u,{deckUrl:t,player:re,stage:m}),Object(s.jsx)(Q,{deckUrl:t,bidData:S,sendTrumpSuit:P})]}),"Discard"===m&&Object(s.jsxs)("div",{children:[Object(s.jsx)(R,{bidData:S,suit:w}),Object(s.jsx)(u,{deckUrl:t,player:re,stage:m}),Object(s.jsx)($,{deckUrl:t,roundOrder:ee,trumpSuit:w,sendDiscardData:T})]}),"Play"===m&&1===L&&Object(s.jsxs)("div",{children:[Object(s.jsx)(R,{bidData:S,suit:w,book:L}),Object(s.jsx)(u,{deckUrl:t,player:re,stage:m}),Object(s.jsx)(z,{deckUrl:t,player:re,order:ee,sendBookInfo:K,book:L,trumpSuit:w,bookInfo:F})]}),"Play"===m&&2===L&&Object(s.jsxs)("div",{children:[Object(s.jsx)(R,{bidData:S,suit:w,book:L}),Object(s.jsx)(u,{deckUrl:t,player:re,stage:m}),Object(s.jsx)(z,{deckUrl:t,player:re,order:ee,sendBookInfo:K,book:L,trumpSuit:w,bookInfo:F})]}),"Play"===m&&3===L&&Object(s.jsxs)("div",{children:[Object(s.jsx)(R,{bidData:S,suit:w,book:L}),Object(s.jsx)(u,{deckUrl:t,player:re,stage:m}),Object(s.jsx)(z,{deckUrl:t,player:re,order:ee,sendBookInfo:K,book:L,trumpSuit:w,bookInfo:F})]}),"Play"===m&&4===L&&Object(s.jsxs)("div",{children:[Object(s.jsx)(R,{bidData:S,suit:w,book:L}),Object(s.jsx)(u,{deckUrl:t,player:re,stage:m}),Object(s.jsx)(z,{deckUrl:t,player:re,order:ee,sendBookInfo:K,book:L,trumpSuit:w,bookInfo:F})]}),"Play"===m&&5===L&&Object(s.jsxs)("div",{children:[Object(s.jsx)(R,{bidData:S,suit:w,book:L}),Object(s.jsx)(u,{deckUrl:t,player:re,stage:m}),Object(s.jsx)(z,{deckUrl:t,player:re,order:ee,sendBookInfo:K,book:L,trumpSuit:w,bookInfo:F})]}),"Winner"===m&&Object(s.jsxs)("div",{children:[Object(s.jsx)(R,{bidData:S,suit:w,book:L}),Object(s.jsx)("div",{children:"Round Over! "}),Object(s.jsxs)("div",{children:["Team 1: ",ce]}),Object(s.jsxs)("div",{children:["Team 2: ",ne]}),Object(s.jsx)("button",{onClick:function(){n([ce,ne]),D("Over")},children:"Next Round"})]})]})},te=(r(17),function(){return Object(s.jsxs)("div",{className:"footer",children:[Object(s.jsx)("div",{children:Object(s.jsx)("a",{href:"https://github.com/dsull29/45s",target:"new",children:"GitHub Project Page"})}),Object(s.jsx)("div",{children:Object(s.jsx)("a",{href:"https://github.com/dsull29/45s/issues",target:"new",children:"Report a bug"})})]})}),re=function(){var e=j("https://deckofcardsapi.com/api/deck/new/"),t=e.data,r=e.isPending,n=e.error,a=Object(c.useState)(1),i=Object(d.a)(a,2),o=i[0],u=i[1],b=Object(c.useState)([0,0]),h=Object(d.a)(b,2),O=h[0],x=h[1],f=Object(c.useState)(null),p=Object(d.a)(f,2),v=p[0],S=p[1],g=Object(c.useState)([]),y=Object(d.a)(g,2),k=y[0],m=y[1],D=Object(c.useState)(""),B=Object(d.a)(D,2),C=B[0],w=B[1],P=null;t&&(P="https://deckofcardsapi.com/api/deck/"+t.deck_id);var H=[];return v&&(k[o]=v,H[0]=O[0]+v[0],H[1]=O[1]+v[1],console.log("scoring",H,v,o),m(k),x(H),H[0]>30&&w("Team 1 Wins"),H[1]>30&&w("Team 2 Wins"),S(null),u(o+1)),Object(s.jsxs)("div",{children:[r&&Object(s.jsx)("div",{children:"Setting up..."}),n&&Object(s.jsx)("div",{children:n}),P&&!C&&Object(s.jsxs)("div",{className:"game",children:[Object(s.jsx)(l,{round:o,gameScore:O}),Object(s.jsx)(ee,{deckUrl:P,round:o,sendRoundScore:S,newRound:!0}),Object(s.jsx)(te,{})]}),C&&Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:C}),Object(s.jsxs)("h3",{children:["Team 1: ",O[0]]}),Object(s.jsxs)("h3",{children:["Team 2: ",O[1]]}),Object(s.jsx)("button",{children:"Play Again"})]})]})};var ce=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),r=t[0],n=t[1];return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("h2",{children:"45s"}),!1===r&&Object(s.jsx)("button",{onClick:function(){return n(!0)},children:"Start Game"}),r&&Object(s.jsx)(re,{})]})};i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(ce,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.bb040041.chunk.js.map