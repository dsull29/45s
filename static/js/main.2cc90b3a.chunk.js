(this.webpackJsonp45s=this.webpackJsonp45s||[]).push([[0],[,,,,,,,,function(e,t,c){},function(e,t,c){},,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var r=c(1),a=c.n(r),i=c(10),n=c.n(i),d=(c(15),c(2)),s=(c(16),c(0)),o=function(){return Object(s.jsxs)("div",{className:"header",children:[Object(s.jsx)("div",{className:"maintitle",children:"45"}),Object(s.jsx)("div",{className:"tagline",children:"Straight out the UMD commuter cafe"})]})},l=(c(18),c(19),function(e){var t=e.round,c=e.gameScore;return Object(s.jsxs)("div",{className:"scoreBoard",style:{textAlign:"left"},children:[Object(s.jsxs)("div",{className:"scoreBoardItem","data-testid":"team1Score",children:["Team 1: ",c[0]]}),Object(s.jsxs)("div",{className:"scoreBoardItem","data-testid":"round",children:["Round: ",t]}),Object(s.jsxs)("div",{className:"scoreBoardItem","data-testid":"team2Score",children:["Team 2: ",c[1]]})]})}),j=function(e){var t=Object(r.useState)(null),c=Object(d.a)(t,2),a=c[0],i=c[1],n=Object(r.useState)(!0),s=Object(d.a)(n,2),o=s[0],l=s[1],j=Object(r.useState)(null),u=Object(d.a)(j,2),b=u[0],h=u[1];return Object(r.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){i(e),l(!1),h(null)})).catch((function(e){"AbortError"===e.name?console.log("fetch aborted"):(l(!1),h(e.message))})),function(){return t.abort()}}),[e]),{data:a,isPending:o,error:b}},u=function(e){var t=e.card;return Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:t.image,alt:"Card",width:"100%",height:"100%"})})},b=function(e){var t=e.deckUrl,c=e.player,r=e.round,a=j(t+"/pile/"+c+"/list/"),i=a.data,n=a.isPending,d=a.error,o=[];return i&&i.piles[c]&&i.piles[c].cards&&(o=i.piles[c].cards),Object(s.jsxs)("div",{children:[d&&Object(s.jsx)("div",{children:d}),n&&Object(s.jsx)("div",{children:"Loading..."}),i&&o&&Object(s.jsx)("div",{className:"handwindow",children:Object(s.jsxs)("div",{className:"hand",children:[o[0]&&Object(s.jsx)(u,{card:o[0],round:r}),o[1]&&Object(s.jsx)(u,{card:o[1],round:r}),o[2]&&Object(s.jsx)(u,{card:o[2],round:r}),o[3]&&Object(s.jsx)(u,{card:o[3],round:r}),o[4]&&Object(s.jsx)(u,{card:o[4],round:r})]})})]})},h=c(4),O=c.n(h),x=c(5);function f(){return(f=Object(x.a)(O.a.mark((function e(t,c,r,a,i){var n,d,s,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p(c),e.next=3,fetch(t+"/shuffle/");case 3:return e.next=5,fetch(t+"/draw/?count=20");case 5:return d=e.sent,e.next=8,d.json();case 8:return s=e.sent,o=v(s.cards),console.log("handCheck",o,s),e.next=13,fetch(t+"/pile/"+n[0]+"/add/?cards="+o[0].toString());case 13:return e.next=15,fetch(t+"/pile/"+n[1]+"/add/?cards="+o[1].toString());case 15:return e.next=17,fetch(t+"/pile/"+n[2]+"/add/?cards="+o[2].toString());case 17:return e.next=19,fetch(t+"/pile/"+n[3]+"/add/?cards="+o[3].toString());case 19:e.sent&&(i(n),a(o),r(!1));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return[[e[0].code,e[1].code,e[2].code,e[12].code,e[13].code],[e[3].code,e[4].code,e[5].code,e[14].code,e[15].code],[e[6].code,e[7].code,e[8].code,e[16].code,e[17].code],[e[9].code,e[10].code,e[11].code,e[18].code,e[19].code]]}function p(e){var t,c=(e-1)%4;return 0===c?t=["Mario","Partner","Luigi","You"]:1===c?t=["Partner","Luigi","You","Mario"]:2===c?t=["Luigi","You","Mario","Partner"]:3===c&&(t=["You","Mario","Partner","Luigi"]),t}function m(e,t,c,r,a){return g.apply(this,arguments)}function g(){return(g=Object(x.a)(O.a.mark((function e(t,c,r,a,i){var n,d,s,o,l,j;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t+"/pile/discard/add/?cards="+c.toString());case 2:return n=e.sent,e.next=5,n.json();case 5:return e.next=7,fetch(t+"/draw/?count="+c.length);case 7:return d=e.sent,e.next=10,d.json();case 10:if(s=e.sent,console.log("redraw",r,c,s.cards),o=[],s.cards)for(l=0;l<s.cards.length;l++)o.push(s.cards[l].code);return e.next=16,fetch(t+"/pile/"+r+"/add/?cards="+o.toString());case 16:return j=e.sent,e.next=19,j.json();case 19:e.sent&&(a(c.length),i(!1));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=c(3),y=[-35,-21,-18,-13,-11,-10,-9,-8,-7,-6,-5,-4,-3,-2,-1],k=[13,12,11,10,9,8,7,6,5,4,3,2,1,0],N=["5H","JH","AH","KH","QH","0H","9H","8H","7H","6H","4H","3H","2H"],w=["5D","JD","AH","AD","KD","QD","0D","9D","8D","7D","6D","4D","3D","2D"],D=["5S","JS","AH","AS","KS","QS","2S","3S","4S","6S","7S","8S","9S","0S"],B=["5C","JC","AH","AC","KC","QC","2C","3C","4C","6C","7C","8C","9C","0C"],P=["2H","3H","4H","5H","6H","7H","8H","9H","0H","JH","QH","KH"],C=["AD","2D","3D","4D","5D","6D","7D","8D","9D","0D","JD","QD","KD"],H=["0S","9S","8S","7S","6S","5S","4S","3S","2S","AS","JS","QS","KS"],U=["0C","9C","8C","7C","6C","5C","4C","3C","2C","AC","JC","QC","KC"];function Y(e){var t,c,r,a;t=c=r=a=0;for(var i=0;i<5;i++){var n=e[i];t+=I(n),c+=T(n),r+=L(n),a+=M(n)}return[t,c,r,a]}function A(e,t){switch(t){case"Hearts":return I(e);case"Diamonds":return T(e);case"Spades":return L(e);case"Clubs":return M(e);default:return 0}}function I(e){return y[N.indexOf(e)]||k[C.indexOf(e)]||k[U.indexOf(e)]||k[H.indexOf(e)]}function T(e){return y[w.indexOf(e)]||k[P.indexOf(e)]||k[U.indexOf(e)]||k[H.indexOf(e)]}function L(e){return y[D.indexOf(e)]||k[C.indexOf(e)]||k[U.indexOf(e)]||k[P.indexOf(e)]}function M(e){return y[B.indexOf(e)]||k[C.indexOf(e)]||k[P.indexOf(e)]||k[H.indexOf(e)]}var J=function(e,t){var c,r;return"Pass"===e.playerBid||("Take"===e.playerBid?(c=t.highBid,r=e.bidder):e.playerBid&&(c=e.playerBid,r=e.bidder)),{highBid:c,highBidder:r}};c(8);var R=function(e){var t=e.deckUrl,c=e.bidData,a=e.sendTrumpSuit,i=Object(r.useState)("Hearts"),n=Object(d.a)(i,2),o=n[0],l=n[1],u=c.highBidder,b=j(t+"/pile/"+u+"/list/"),h=b.data;b.error,b.isPending;if(console.log("bid",u,c),h)if("You"===u)!0;else{!1;var O,x,f=h.piles[u].cards,v=[],p=Object(S.a)(f);try{for(p.s();!(x=p.n()).done;)O=x.value,v.push(O.code)}catch(g){p.e(g)}finally{p.f()}var m=function(e){var t=JSON.stringify(e),c=e.sort((function(e,t){return e-t}))[0];return["Hearts","Diamonds","Spades","Clubs"][JSON.parse(t).indexOf(c)]}(Y(v));a(m)}return Object(s.jsx)("div",{children:"You"===c.highBidder&&Object(s.jsx)("div",{className:"playeraction",children:Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(o)},children:[Object(s.jsxs)("select",{value:o,onChange:function(e){return l(e.target.value)},children:[Object(s.jsx)("option",{value:"Hearts",children:"Hearts"}),Object(s.jsx)("option",{value:"Diamonds",children:"Diamonds"}),Object(s.jsx)("option",{value:"Spades",children:"Spades"}),Object(s.jsx)("option",{value:"Clubs",children:"Clubs"})]}),Object(s.jsx)("button",{children:"Select Suit"})]})})})},E=(c(9),function(e){var t=e.bidData,c=e.suit,r=(e.book,t.highBid),a=t.highBidder;return Object(s.jsxs)("div",{className:"bidstripe",children:[!c&&Object(s.jsx)("div",{className:"bidinfo",children:r+" from "+a+" in..."}),c&&Object(s.jsx)("div",{className:"bidinfo",children:r+" from "+a+" in "+c})]})}),K=function(e){var t=e.card;return Object(s.jsx)("div",{children:t&&Object(s.jsx)("img",{src:t.image,alt:"Card",height:"150px"})})};function Q(e,t){for(var c=null,r=-50,a=0;a<e.length;a++){var i=A(e[a].code,t);i>r&&(r=i,c=a)}return e[c]}function W(e,t){for(var c=null,r=50,a=0;a<e.length;a++){var i=A(e[a].code,t);i<r&&(r=i,c=a)}return e[c]}function G(){return(G=Object(x.a)(O.a.mark((function e(t,c,r){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t+"/pile/discard/add/?cards="+c.code).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){return c}));case 2:r(c);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=function(e){var t=e.deckUrl,c=e.player,a=(e.position,e.leadSuit,e.sendPlayCard),i=(e.trumpSuit,Object(r.useState)(0)),n=Object(d.a)(i,2),o=n[0],l=n[1],u=j(t+"/pile/"+c+"/list/"),b=u.data,h=(u.error,u.isPending,[]);return b&&(h=b.piles[c].cards),Object(s.jsx)("div",{children:b&&Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t,c){G.apply(this,arguments)}(t,h[o],a)},children:[Object(s.jsxs)("select",{value:o,onChange:function(e){return l(e.target.value)},children:[h[0]&&Object(s.jsx)("option",{value:0,children:h[0].code}),h[1]&&Object(s.jsx)("option",{value:1,children:h[1].code}),h[2]&&Object(s.jsx)("option",{value:2,children:h[2].code}),h[3]&&Object(s.jsx)("option",{value:3,children:h[3].code}),h[4]&&Object(s.jsx)("option",{value:4,children:h[4].code})]}),Object(s.jsx)("button",{children:"Play Card"})]})})},_=function(e){var t,c=e.bookInfo;return Object(s.jsxs)("div",{className:"playboardlog",children:[Object(s.jsx)("div",{className:"playboardheader",children:"Play Log"}),c&&function(){var e,r=[],a=Object(S.a)(c);try{for(a.s();!(e=a.n()).done;)t=e.value,r.push(Object(s.jsxs)("div",{className:"playboardlogentry",children:[t.bookNum,":"," ","".concat("You"===t.winningPlayer||"Partner"===t.winningPlayer?"Team 1":"Team 2")," ",t.highCard," ",t.winningPlayer]}))}catch(i){a.e(i)}finally{a.f()}return Object(s.jsx)("div",{children:r})}()]})},q=function(e){var t=e.deckUrl,c=e.player,a=e.position,i=(e.leadSuit,e.sendPlayCard),n=e.trumpSuit,o=j(t+"/pile/"+c+"/list/"),l=o.data,u=o.error,b=o.isPending,h=Object(r.useState)(null),O=Object(d.a)(h,2),x=O[0],f=O[1];if(l&&!x){var v=function(e,t,c){var r;switch(e){case 1:case 2:r=Q(t,c);break;case 3:case 4:r=W(t,c);break;default:console.log("defaultHit")}return r}(a,l.piles[c].cards,n);fetch(t+"/pile/discard/add/?cards="+v.code).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){f(v)}))}return l&&x&&i(x),Object(s.jsxs)("div",{children:[u&&Object(s.jsx)("div",{children:u}),b&&Object(s.jsx)("div",{children:"Thinking...."}),l&&Object(s.jsx)("div",{children:"Dawn"}),";"]})};var z=function(e){var t=e.deckUrl,c=e.player,a=e.order,i=e.sendBookInfo,n=e.book,o=e.trumpSuit,l=e.bookInfo,j=Object(r.useState)(""),u=Object(d.a)(j,2),h=u[0],O=u[1],x=Object(r.useState)(""),f=Object(d.a)(x,2),v=f[0],p=f[1],m=Object(r.useState)(""),g=Object(d.a)(m,2),S=g[0],y=g[1],k=Object(r.useState)(""),N=Object(d.a)(k,2),w=N[0],D=N[1],B=Object(r.useState)(""),P=Object(d.a)(B,2),C=P[0],H=P[1],U=Object(r.useState)(1),Y=Object(d.a)(U,2),I=Y[0],T=Y[1],L=[h,v,S,w],M=n,J=function(e,t){var c,r=e[e.length-1];return r&&(c=r.winningPlayer),"Mario"===c?["Mario","Partner","Luigi","You"]:"Partner"===c?["Partner","Luigi","You","Mario"]:"Luigi"===c?["Luigi","You","Mario","Partner"]:"You"===c?["You","Mario","Partner","Luigi"]:t}(l,a);if(1===I&&h)H(h.code.charAt(1)),T(2);else if(2===I&&v)T(3);else if(3===I&&S)T(4);else if(4===I&&w)setTimeout((function(){T(5)}),2e3);else if(5===I){for(var R,E=50,Q=0;Q<L.length;Q++){var W=A(L[Q].code,o);W<E&&(E=W,R=Q)}var G=L[R].code;i({bookNum:M,winningPlayer:J[R],highCard:G})}function z(e,r){return F(c,J)===e?Object(s.jsx)(V,{deckUrl:t,player:c,position:e,sendPlayCard:r,trumpSuit:o,leadSuit:C}):Object(s.jsx)(q,{deckUrl:t,player:J[e-1],position:e,sendPlayCard:r,trumpSuit:o})}function X(e,t){var c=t.indexOf(e);return L[c]}return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"playboard",children:[Object(s.jsxs)("div",{className:"playboardrow",children:[Object(s.jsx)("div",{className:"playboardbox",children:Object(s.jsxs)("div",{className:"playboardbooknum",children:["Book: ",n||1," "]})}),Object(s.jsx)("div",{className:"playboardbox player3",children:Object(s.jsx)(K,{card:X("Partner",J)})}),Object(s.jsx)("div",{className:"playboardbox",children:Object(s.jsx)(_,{bookInfo:l})})]}),Object(s.jsxs)("div",{className:"playboardrow",children:[Object(s.jsx)("div",{className:"playboardbox player2",children:Object(s.jsx)(K,{card:X("Mario",J)})}),Object(s.jsx)("div",{className:"playboardbox"}),Object(s.jsx)("div",{className:"playboardbox player4",children:Object(s.jsx)(K,{card:X("Luigi",J)})})]}),Object(s.jsxs)("div",{className:"playboardrow",children:[Object(s.jsx)("div",{className:"playboardbox"}),Object(s.jsx)("div",{className:"playboardbox player1",children:Object(s.jsx)(K,{card:X("You",J)})}),Object(s.jsx)("div",{className:"playboardbox"})]})]}),Object(s.jsxs)("div",{className:"playerwindow",children:[Object(s.jsx)(b,{deckUrl:t,player:c}),Object(s.jsxs)("div",{className:"playeraction",children:[I>0&&!h&&z(1,O),I>1&&!v&&z(2,p),I>2&&!S&&z(3,y),I>3&&!w&&z(4,D)]})]})]})};function F(e,t){return t.indexOf(e)+1}var X=function(e){var t,c=e.deckUrl,a=e.bidder,i=e.bidData,n=e.dealer,o=e.sendBid,l=Object(r.useState)("Pass"),u=Object(d.a)(l,2),b=u[0],h=u[1],O=j(c+"/pile/"+a+"/list/"),x=O.data,f=(O.error,O.isPending,i.highBid);if(x)if("You"===a)t=!0;else{t=!1;var v,p,m=x.piles[a].cards,g=[],y=Object(S.a)(m);try{for(y.s();!(p=y.n()).done;)v=p.value,g.push(v.code)}catch(w){y.e(w)}finally{y.f()}var k=function(e,t){var c=["Pass","15","20","25","30","30 No Draw"],r=e.sort((function(e,t){return e-t}))[0],a=null;return r<-25?a="20":r<-5&&(a="15"),a&&c.indexOf(a)<=c.indexOf(t.highBid)&&(a="Pass"),a}(Y(g),i);o({bidder:a,playerBid:k})}var N="You"===n;return Object(s.jsx)("div",{className:"playeraction",children:t&&Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:function(){o({bidder:a,playerBid:b})},children:[Object(s.jsxs)("select",{value:b,onChange:function(e){return h(e.target.value)},children:[N&&Object(s.jsx)("option",{value:"Take",children:"Take"}),Object(s.jsx)("option",{value:"Pass",children:"Pass"}),null===f&&Object(s.jsx)("option",{value:"15",children:"15"}),"15"===f&&Object(s.jsx)("option",{value:"20",children:"20"}),Object(s.jsx)("option",{value:"25",children:"25"}),Object(s.jsx)("option",{value:"30",children:"30"}),Object(s.jsx)("option",{value:"30No",children:"30 No Draw"})]}),Object(s.jsx)("button",{children:"Place Bid"})]})})})},Z=function(e){var t=e.bid;return console.log("ViewBid",t),Object(s.jsxs)("div",{className:"playermessagebox",children:[t&&Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"playermessageboxheader",children:t.bidder}),Object(s.jsx)("div",{className:"playermessageboxtext",children:t.playerBid||"Pass"})]}),!t&&Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"playermessageboxheader",children:"You"}),Object(s.jsx)("div",{className:"playermessageboxtext",children:"We're waiting!"})]})]})},$=function(e){var t=e.deckUrl,c=e.bidOrder,a=e.sendBidData,i=Object(r.useState)(""),n=Object(d.a)(i,2),o=n[0],l=n[1],j=Object(r.useState)(""),u=Object(d.a)(j,2),h=u[0],O=u[1],x=Object(r.useState)(""),f=Object(d.a)(x,2),v=f[0],p=f[1],m=Object(r.useState)(""),g=Object(d.a)(m,2),S=g[0],y=g[1],k=Object(r.useState)(""),N=Object(d.a)(k,2),w=N[0],D=N[1],B=Object(r.useState)(1),P=Object(d.a)(B,2),C=P[0],H=P[1],U=Object(r.useState)({highBid:null,highBidder:null,trumpSuit:null}),Y=Object(d.a)(U,2),A=Y[0],I=Y[1];Object(r.useEffect)((function(){I({highBid:null,highBidder:null,trumpSuit:null})}),[c]);var T=c[C-1],L=c[3];switch(C){case 1:if(o){var M=J(o,A),E=M.highBid,K=M.highBidder;E&&I({highBid:E,highBidder:K,trumpSuit:w}),H(2)}break;case 2:if(h){var Q=J(h,A),W=Q.highBid,G=Q.highBidder;W&&I({highBid:W,highBidder:G,trumpSuit:w}),H(3)}break;case 3:if(v){var V=J(v,A),_=V.highBid,q=V.highBidder;_&&I({highBid:_,highBidder:q,trumpSuit:w}),H(4)}break;case 4:if(S){var z=J(S,A),F=z.highBid,$=z.highBidder;F?I({highBid:F,highBidder:$,trumpSuit:w}):A.highBid||I({highBid:"15",highBidder:L,trumpSuit:w}),H(5)}break;case 5:if(w){var ee=A.highBid,te=A.highBidder;I({highBid:ee,highBidder:te,trumpSuit:w}),H(6)}break;case 6:a(A)}var ce=[o,h,v,S];function re(e,t){var c=t.indexOf(e);return console.log("crash",e,ce,c),ce[c]}return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"playboard",children:[Object(s.jsxs)("div",{className:"playboardrow",children:[Object(s.jsx)("div",{className:"playboardbox"}),Object(s.jsx)("div",{className:"playboardbox",children:Object(s.jsx)(Z,{bid:re("Partner",c)})}),Object(s.jsx)("div",{className:"playboardbox"})]}),Object(s.jsxs)("div",{className:"playboardrow",children:[Object(s.jsx)("div",{className:"playboardbox",children:Object(s.jsx)(Z,{bid:re("Mario",c)})}),Object(s.jsx)("div",{className:"playboardbox"}),Object(s.jsx)("div",{className:"playboardbox",children:Object(s.jsx)(Z,{bid:re("Luigi",c)})})]}),Object(s.jsxs)("div",{className:"playboardrow",children:[Object(s.jsx)("div",{className:"playboardbox"}),Object(s.jsx)("div",{className:"playboardbox",children:Object(s.jsx)(Z,{bid:re("You",c)})}),Object(s.jsx)("div",{className:"playboardbox"})]})]}),Object(s.jsxs)("div",{className:"playerwindow",children:[Object(s.jsx)(b,{deckUrl:t,player:T}),1===C&&Object(s.jsx)(X,{deckUrl:t,bidder:T,bidData:A,dealer:L,sendBid:l}),2===C&&Object(s.jsx)(X,{deckUrl:t,bidder:T,bidData:A,dealer:L,sendBid:O}),3===C&&Object(s.jsx)(X,{deckUrl:t,bidder:T,bidData:A,dealer:L,sendBid:p}),4===C&&Object(s.jsx)(X,{deckUrl:t,bidder:T,bidData:A,dealer:L,sendBid:y}),5===C&&Object(s.jsx)(R,{deckUrl:t,bidData:A,sendTrumpSuit:D})]})]})},ee=(c(21),function(e){var t=e.deckUrl,c=e.drawer,a=(e.trumpSuit,e.sendDraw),i=Object(r.useState)(!1),n=Object(d.a)(i,2),o=n[0],l=n[1],u=Object(r.useState)(!1),h=Object(d.a)(u,2),O=h[0],x=h[1],f=Object(r.useState)(!1),v=Object(d.a)(f,2),p=v[0],g=v[1],S=Object(r.useState)(!1),y=Object(d.a)(S,2),k=y[0],N=y[1],w=Object(r.useState)(!1),D=Object(d.a)(w,2),B=D[0],P=D[1],C=Object(r.useState)(!0),H=Object(d.a)(C,2),U=(H[0],H[1]),Y=j(t+"/pile/"+c+"/list/"),A=Y.data;Y.error,Y.isPending;return Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault();for(var r=[o,O,p,k,B],i=[],n=0;n<5;n++)r[n]&&i.push(A.piles[c].cards[n].code);m(t,i,c,a,U)},children:[Object(s.jsx)(b,{deckUrl:t,player:c}),Object(s.jsxs)("div",{className:"handwindow",children:[Object(s.jsxs)("div",{className:"discardHand",children:[Object(s.jsx)("div",{className:"discardbox",children:Object(s.jsx)("input",{type:"checkbox",name:"card0",onChange:function(e){return l(e.target.checked)},checked:o})}),Object(s.jsx)("div",{className:"discardbox",children:Object(s.jsx)("input",{type:"checkbox",name:"card1",onChange:function(e){return x(e.target.checked)},checked:O})}),Object(s.jsx)("div",{className:"discardbox",children:Object(s.jsx)("input",{type:"checkbox",name:"card2",onChange:function(e){return g(e.target.checked)},checked:p})}),Object(s.jsx)("div",{className:"discardbox",children:Object(s.jsx)("input",{type:"checkbox",name:"card3",onChange:function(e){return N(e.target.checked)},checked:k})}),Object(s.jsx)("div",{className:"discardbox",children:Object(s.jsx)("input",{type:"checkbox",name:"card4",onChange:function(e){return P(e.target.checked)},checked:B})})]}),Object(s.jsx)("div",{className:"playeraction"})]}),Object(s.jsx)("button",{children:"Discard Selected"})]})}),te=function(e){var t=e.deckUrl,c=e.drawer,a=e.trumpSuit,i=e.sendDraw,n=Object(r.useState)(null),o=Object(d.a)(n,2),l=o[0],u=o[1],b=Object(r.useState)(!0),h=Object(d.a)(b,2),O=h[0],x=h[1],f=j(t+"/pile/"+c+"/list/"),v=f.data,p=f.error,g=f.isPending;return Object(r.useEffect)((function(){if(v){var e,r,i=v.piles[c].cards,n=[],d=Object(S.a)(i);try{for(d.s();!(r=d.n()).done;)"AH"!==(e=r.value).code&&e.code.charAt(1)!==a.charAt(0)&&n.push(e.code)}catch(s){d.e(s)}finally{d.f()}m(t,n,c,u,x)}}),[v]),v&&l&&!O&&i(l),Object(s.jsxs)("div",{children:[p&&Object(s.jsx)("div",{children:p}),g&&Object(s.jsx)("div",{children:"Thinking...."}),v&&Object(s.jsx)("div",{children:"Done"}),";"]})},ce=function(e){var t=e.deckUrl,c=e.roundOrder,a=e.trumpSuit,i=e.sendDiscardData,n=Object(r.useState)(""),o=Object(d.a)(n,2),l=o[0],j=o[1],u=Object(r.useState)(""),b=Object(d.a)(u,2),h=b[0],O=b[1],x=Object(r.useState)(""),f=Object(d.a)(x,2),v=f[0],p=f[1],m=Object(r.useState)(""),g=Object(d.a)(m,2),S=g[0],y=g[1],k=Object(r.useState)(1),N=Object(d.a)(k,2),w=N[0],D=N[1];switch(w){case 1:l&&D(2);break;case 2:h&&D(3);break;case 3:v&&D(4);break;case 4:S&&D(5);break;case 5:i(!0)}var B=c[w-1];function P(e,r){return F("You",c)===e?Object(s.jsx)(ee,{deckUrl:t,drawer:B,trumpSuit:a,sendDraw:r}):Object(s.jsx)(te,{deckUrl:t,drawer:B,trumpSuit:a,sendDraw:r})}return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"biddingwindow",children:[Object(s.jsx)("div",{className:"windowheader",children:"Drawing..."}),l&&Object(s.jsxs)("div",{className:"bid",children:[c[0]," draws ",l]}),h&&Object(s.jsxs)("div",{className:"bid",children:[c[1]," draws ",h]}),v&&Object(s.jsxs)("div",{className:"bid",children:[c[2]," draws ",v]}),S&&Object(s.jsxs)("div",{className:"bid",children:[c[3]," draws ",S]})]}),Object(s.jsxs)("div",{className:"playerwindow",children:[w>0&&!l&&P(1,j),w>1&&!h&&P(2,O),w>2&&!v&&P(3,p),w>3&&!S&&P(4,y),4===w&&S&&Object(s.jsx)("div",{children:"Hey!"})]})]})},re=function(e){var t=e.team1,c=e.team2,r=e.sendRoundScore,a=e.sendStage;return Object(s.jsxs)("div",{classname:"gamewindow",children:[Object(s.jsxs)("div",{className:"biddingwindow",children:[Object(s.jsx)("div",{className:"windowheader",children:"Round Over!"}),Object(s.jsxs)("div",{className:"playwinner",children:["Team 1: ",t]}),Object(s.jsxs)("div",{className:"playwinner",children:["Team 2: ",c]})]}),Object(s.jsx)("div",{className:"nextroundbutton",children:Object(s.jsx)("button",{onClick:function(){r([t,c]),a("Over")},children:"Next Round"})})]})},ae=function(e){var t=e.deckUrl,c=e.round,a=e.sendRoundScore,i=e.newRound,n=Object(r.useState)(null),o=Object(d.a)(n,2),l=o[0],j=o[1],u=Object(r.useState)(!0),b=Object(d.a)(u,2),h=b[0],O=b[1],x=Object(r.useState)(""),v=Object(d.a)(x,2),p=v[0],m=v[1],g=Object(r.useState)("Deal"),S=Object(d.a)(g,2),y=S[0],k=S[1],N=Object(r.useState)(!1),w=Object(d.a)(N,2),D=w[0],B=w[1],P=Object(r.useState)(null),C=Object(d.a)(P,2),H=C[0],U=C[1],Y=Object(r.useState)(1),I=Object(d.a)(Y,2),T=I[0],L=I[1],M=Object(r.useState)([]),J=Object(d.a)(M,2),R=J[0],K=J[1],Q=Object(r.useState)(null),W=Object(d.a)(Q,2),G=W[0],V=W[1];i&&"Over"===y&&(j(null),O(!0),m(""),k("Deal"),B(!1),U(null),L(1),K([]),V(null),console.log("wipe"));var _="You";Object(r.useEffect)((function(){!function(e,t,c,r,a){f.apply(this,arguments)}(t,c,O,j,V)}),[t,c]),t&&"Deal"===y&&!h&&k("Bid"),p&&"Bid"===y&&!h&&k("Discard"),D&&"Discard"===y&&k("Play"),H&&(R[T-1]=H,K(R),U(""),L(T+1)),"Play"===y&&5===R.length&&(k("Winner"),L(0));var q=0,F=0;if("Winner"===y){for(var X=50,Z=null,ee=0;ee<5;ee++){"You"===R[ee].winningPlayer||"Partner"===R[ee].winningPlayer?q+=1:F+=1;var te=A(R[ee].highCard,p.trumpSuit);X>te&&(X=te,Z=R[ee].winningPlayer)}"You"===Z||"Partner"===Z?q+=1:F+=1,6===q&&(q=9),6===F&&(F=9);var ae=p.highBid;"You"===p.highBidder||"Partner"===p.highBidder?"15"===ae&&q<3?q=-3:"20"===ae&&q<4?q=-4:"25"===ae&&q<5?q=-5:"30"===ae&&q<6?q=-6:"30No"===ae&&F<6&&(q=-12):"15"===ae&&F<3?F=-3:"20"===ae&&F<4?F=-4:"25"===ae&&F<5?F=-5:"30"===ae&&F<6?F=-6:"30No"===ae&&F<6&&(F=-12)}return Object(s.jsxs)("div",{className:"content",children:["Deal"===y&&h&&Object(s.jsx)("div",{children:"Dealing...."}),"Bid"===y&&l&&G&&Object(s.jsx)("div",{children:Object(s.jsx)($,{deckUrl:t,bidOrder:G,sendBidData:m})}),"Discard"===y&&Object(s.jsxs)("div",{children:[Object(s.jsx)(E,{bidData:p,suit:p.trumpSuit}),Object(s.jsx)(ce,{deckUrl:t,roundOrder:G,trumpSuit:p.trumpSuit,sendDiscardData:B})]}),"Play"===y&&1===T&&Object(s.jsxs)("div",{children:[Object(s.jsx)(E,{bidData:p,suit:p.trumpSuit,book:T}),Object(s.jsx)(z,{deckUrl:t,player:_,order:G,sendBookInfo:U,book:T,trumpSuit:p.trumpSuit,bookInfo:R})]}),"Play"===y&&2===T&&Object(s.jsxs)("div",{children:[Object(s.jsx)(E,{bidData:p,suit:p.trumpSuit,book:T}),Object(s.jsx)(z,{deckUrl:t,player:_,order:G,sendBookInfo:U,book:T,trumpSuit:p.trumpSuit,bookInfo:R})]}),"Play"===y&&3===T&&Object(s.jsxs)("div",{children:[Object(s.jsx)(E,{bidData:p,suit:p.trumpSuit,book:T}),Object(s.jsx)(z,{deckUrl:t,player:_,order:G,sendBookInfo:U,book:T,trumpSuit:p.trumpSuit,bookInfo:R})]}),"Play"===y&&4===T&&Object(s.jsxs)("div",{children:[Object(s.jsx)(E,{bidData:p,suit:p.trumpSuit,book:T}),Object(s.jsx)(z,{deckUrl:t,player:_,order:G,sendBookInfo:U,book:T,trumpSuit:p.trumpSuit,bookInfo:R})]}),"Play"===y&&5===T&&Object(s.jsxs)("div",{children:[Object(s.jsx)(E,{bidData:p,suit:p.trumpSuit,book:T}),Object(s.jsx)(z,{deckUrl:t,player:_,order:G,sendBookInfo:U,book:T,trumpSuit:p.trumpSuit,bookInfo:R})]}),"Winner"===y&&Object(s.jsx)(re,{team1:q,team2:F,sendRoundScore:a,sendStage:k})]})},ie=function(){var e=j("https://deckofcardsapi.com/api/deck/new/"),t=e.data,c=e.isPending,a=e.error,i=Object(r.useState)(1),n=Object(d.a)(i,2),o=n[0],u=n[1],b=Object(r.useState)([0,0]),h=Object(d.a)(b,2),O=h[0],x=h[1],f=Object(r.useState)(null),v=Object(d.a)(f,2),p=v[0],m=v[1],g=Object(r.useState)([]),S=Object(d.a)(g,2),y=S[0],k=S[1],N=Object(r.useState)(""),w=Object(d.a)(N,2),D=w[0],B=w[1],P=null;t&&(P="https://deckofcardsapi.com/api/deck/"+t.deck_id);var C=[];return p&&(y[o]=p,C[0]=O[0]+p[0],C[1]=O[1]+p[1],console.log("scoring",C,p,o),k(y),x(C),C[0]>30&&B("Team 1 Wins"),C[1]>30&&B("Team 2 Wins"),m(null),u(o+1)),Object(s.jsxs)("div",{className:"gamewindow",children:[c&&Object(s.jsx)("div",{children:"Setting up..."}),a&&Object(s.jsx)("div",{children:a}),P&&!D&&Object(s.jsxs)("div",{className:"game",children:[Object(s.jsx)(l,{round:o,gameScore:O}),Object(s.jsx)(ae,{deckUrl:P,round:o,sendRoundScore:m,newRound:!0})]}),D&&Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:D}),Object(s.jsxs)("h3",{children:["Team 1: ",O[0]]}),Object(s.jsxs)("h3",{children:["Team 2: ",O[1]]}),Object(s.jsx)("button",{children:"Play Again"})]})]})},ne=(c(22),function(){return Object(s.jsxs)("div",{className:"footer",children:[Object(s.jsx)("div",{children:Object(s.jsx)("a",{href:"https://github.com/dsull29/45s",target:"new",children:"GitHub Project Page"})}),Object(s.jsx)("div",{children:Object(s.jsx)("a",{href:"https://github.com/dsull29/45s/issues",target:"new",children:"Report a bug"})})]})});var de=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(o,{}),!1===c&&Object(s.jsx)("div",{className:"gamewindow",children:Object(s.jsx)("button",{className:"startbutton",onClick:function(){return a(!0)},children:"Start Game"})}),c&&Object(s.jsx)(ie,{}),Object(s.jsx)(ne,{})]})};n.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(de,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.2cc90b3a.chunk.js.map