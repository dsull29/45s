(this.webpackJsonp45s=this.webpackJsonp45s||[]).push([[0],[,,,,,,,,function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),i=a(10),n=a.n(i),s=(a(15),a(2)),d=(a(16),a(0)),l=function(){return Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)("div",{className:"maintitle",children:"45"}),Object(d.jsx)("div",{className:"tagline",children:"Straight out the UMD commuter cafe"})]})},o=(a(18),a(19),function(e){var t=e.round,a=e.gameScore;return Object(d.jsxs)("div",{className:"scoreBoard",style:{textAlign:"left"},children:[Object(d.jsxs)("div",{className:"scoreBoardItem","data-testid":"team1Score",children:["Team 1: ",a[0]]}),Object(d.jsxs)("div",{className:"scoreBoardItem","data-testid":"round",children:["Round: ",t]}),Object(d.jsxs)("div",{className:"scoreBoardItem","data-testid":"team2Score",children:["Team 2: ",a[1]]})]})}),j=a(3),u=a.n(j),b=a(5);function h(){return(h=Object(b.a)(u.a.mark((function e(t,a,r,c){var i,n,s,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=x(a),e.next=3,fetch(t+"/shuffle/");case 3:return e.next=5,fetch(t+"/draw/?count=20");case 5:return n=e.sent,e.next=8,n.json();case 8:return s=e.sent,d=O(s.cards),console.log("handCheck",d,s),e.next=13,fetch(t+"/pile/"+i[0]+"/add/?cards="+d[0].toString());case 13:return e.next=15,fetch(t+"/pile/"+i[1]+"/add/?cards="+d[1].toString());case 15:return e.next=17,fetch(t+"/pile/"+i[2]+"/add/?cards="+d[2].toString());case 17:return e.next=19,fetch(t+"/pile/"+i[3]+"/add/?cards="+d[3].toString());case 19:e.sent&&(c(i),r(!1));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return[[e[0].code,e[1].code,e[2].code,e[12].code,e[13].code],[e[3].code,e[4].code,e[5].code,e[14].code,e[15].code],[e[6].code,e[7].code,e[8].code,e[16].code,e[17].code],[e[9].code,e[10].code,e[11].code,e[18].code,e[19].code]]}function x(e){var t,a=(e-1)%4;return 0===a?t=["Mario","Partner","Luigi","You"]:1===a?t=["Partner","Luigi","You","Mario"]:2===a?t=["Luigi","You","Mario","Partner"]:3===a&&(t=["You","Mario","Partner","Luigi"]),t}function f(e,t,a,r,c){return v.apply(this,arguments)}function v(){return(v=Object(b.a)(u.a.mark((function e(t,a,r,c,i){var n,s,d,l,o,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t+"/pile/discard/add/?cards="+a.toString());case 2:return n=e.sent,e.next=5,n.json();case 5:return e.next=7,fetch(t+"/draw/?count="+a.length);case 7:return s=e.sent,e.next=10,s.json();case 10:if(d=e.sent,console.log("redraw",r,a,d.cards),l=[],d.cards)for(o=0;o<d.cards.length;o++)l.push(d.cards[o].code);return e.next=16,fetch(t+"/pile/"+r+"/add/?cards="+l.toString());case 16:return j=e.sent,e.next=19,j.json();case 19:e.sent&&(c(a.length),i(!1));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=[-35,-21,-18,-13,-11,-10,-9,-8,-7,-6,-5,-4,-3,-2,-1],m=[13,12,11,10,9,8,7,6,5,4,3,2,1,0],g=[27,26,25,24,23,22,21,20,19,18,17,16,15,14],S=["5H","JH","AH","KH","QH","0H","9H","8H","7H","6H","4H","3H","2H"],y=["5D","JD","AH","AD","KD","QD","0D","9D","8D","7D","6D","4D","3D","2D"],k=["5S","JS","AH","AS","KS","QS","2S","3S","4S","6S","7S","8S","9S","0S"],w=["5C","JC","AH","AC","KC","QC","2C","3C","4C","6C","7C","8C","9C","0C"],N=["2H","3H","4H","5H","6H","7H","8H","9H","0H","JH","QH","KH"],D=["AD","2D","3D","4D","5D","6D","7D","8D","9D","0D","JD","QD","KD"],B=["0S","9S","8S","7S","6S","5S","4S","3S","2S","AS","JS","QS","KS"],C=["0C","9C","8C","7C","6C","5C","4C","3C","2C","AC","JC","QC","KC"];function P(e){var t,a,r,c;t=a=r=c=0;for(var i=0;i<5;i++){var n=e[i];switch(n.charAt(1)){case"H":t+=U(n,"H");break;case"D":a+=U(n,"D");break;case"S":r+=U(n,"S");break;case"C":c+=U(n,"C");break;default:console.log("default returned")}}return[t,a,r,c]}function H(e,t,a){var r=e.charAt(1),c=t.charAt(0),i=a,n="";return n=r===c||"AH"===e?U(e,c):r===i?function(e,t){switch(t){case"H":return m[N.indexOf(e)];case"D":return m[D.indexOf(e)];case"S":return m[B.indexOf(e)];case"C":return m[C.indexOf(e)];default:return""}}(e,a):function(e,t){switch(t){case"H":return g[N.indexOf(e)];case"D":return g[D.indexOf(e)];case"S":return g[B.indexOf(e)];case"C":return g[C.indexOf(e)];default:return""}}(e,r),n}function U(e,t){switch(t){case"H":return p[S.indexOf(e)];case"D":return p[y.indexOf(e)];case"S":return p[k.indexOf(e)];case"C":return p[w.indexOf(e)];default:return""}}var I=function(e,t){var a,r;return"Pass"===e.playerBid||("Take"===e.playerBid?(a=t.highBid,r=e.bidder):e.playerBid&&(a=e.playerBid,r=e.bidder)),{highBid:a,highBidder:r}};var Y=a(4),A=function(e){var t=Object(r.useState)(null),a=Object(s.a)(t,2),c=a[0],i=a[1],n=Object(r.useState)(!0),d=Object(s.a)(n,2),l=d[0],o=d[1],j=Object(r.useState)(null),u=Object(s.a)(j,2),b=u[0],h=u[1];return Object(r.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){i(e),o(!1),h(null)})).catch((function(e){"AbortError"===e.name?console.log("fetch aborted"):(o(!1),h(e.message))})),function(){return t.abort()}}),[e]),{data:c,isPending:l,error:b}},T=function(e){var t,a=e.deckUrl,c=e.bidder,i=e.bidData,n=e.dealer,l=e.sendBid,o=Object(r.useState)("Pass"),j=Object(s.a)(o,2),u=j[0],b=j[1],h=A(a+"/pile/"+c+"/list/"),O=h.data,x=(h.error,h.isPending,c===n),f=i.highBid;if(O)if("You"===c)t=!0;else{t=!1;var v,p,m=O.piles[c].cards,g=[],S=Object(Y.a)(m);try{for(S.s();!(p=S.n()).done;)v=p.value,g.push(v.code)}catch(w){S.e(w)}finally{S.f()}var y=function(e,t,a){var r=["Pass","15","20","25","30","30 No Draw"],c=e.sort((function(e,t){return e-t}))[0],i=null;return c<-80?i="30":c<-60?i="25":c<-45?i="20":c<-34&&(i="15"),i&&r.indexOf(i)<=r.indexOf(t.highBid)&&(i=a?"Take":"Pass"),i}(P(g),i,x);l({bidder:c,playerBid:y})}function k(e,t){var a=["Pass","15","20","25","30","30No"];return a.indexOf(t)<a.indexOf(e)}return Object(d.jsx)("div",{className:"playeraction",children:t&&Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:function(){l({bidder:c,playerBid:u})},children:[Object(d.jsxs)("select",{value:u,onChange:function(e){return b(e.target.value)},children:[x&&f&&Object(d.jsx)("option",{value:"Take",children:"Take"}),x&&f&&Object(d.jsx)("option",{value:"Pass",children:"Let Bidder Have It"}),!x&&Object(d.jsx)("option",{value:"Pass",children:"Pass"}),k("15",f)&&Object(d.jsx)("option",{value:"15",children:"15"}),k("20",f)&&Object(d.jsx)("option",{value:"20",children:"20"}),k("25",f)&&Object(d.jsx)("option",{value:"25",children:"25"}),k("30",f)&&Object(d.jsx)("option",{value:"30",children:"30"}),k("30No",f)&&Object(d.jsx)("option",{value:"30No",children:"30 No Draw"})]}),Object(d.jsx)("button",{children:"Place Bid"})]})})})},L=(a(8),function(e){var t=e.card;return Object(d.jsx)("div",{className:"cardslot",children:t&&Object(d.jsx)("img",{src:t.image,alt:"Card",width:"100%"})})}),M=function(e){var t=e.deckUrl,a=e.player,r=e.round,c=A(t+"/pile/"+a+"/list/"),i=c.data,n=c.isPending,s=c.error,l=[];return i&&i.piles[a]&&i.piles[a].cards&&(l=i.piles[a].cards),Object(d.jsxs)("div",{children:[s&&Object(d.jsx)("div",{children:s}),n&&Object(d.jsx)("div",{children:"Loading..."}),i&&l&&Object(d.jsx)("div",{className:"handwindow",children:Object(d.jsxs)("div",{className:"hand",children:[Object(d.jsx)(L,{card:l[0],round:r}),Object(d.jsx)(L,{card:l[1],round:r}),Object(d.jsx)(L,{card:l[2],round:r}),Object(d.jsx)(L,{card:l[3],round:r}),Object(d.jsx)(L,{card:l[4],round:r})]})})]})},J=(a(9),function(e){var t=e.deckUrl,a=e.bidData,c=e.sendTrumpSuit,i=Object(r.useState)("Hearts"),n=Object(s.a)(i,2),l=n[0],o=n[1],j=a.highBidder,u=A(t+"/pile/"+j+"/list/"),b=u.data;u.error,u.isPending;if(console.log("bid",j,a),b)if("You"===j)!0;else{!1;var h,O,x=b.piles[j].cards,f=[],v=Object(Y.a)(x);try{for(v.s();!(O=v.n()).done;)h=O.value,f.push(h.code)}catch(m){v.e(m)}finally{v.f()}var p=function(e){var t=JSON.stringify(e),a=e.sort((function(e,t){return e-t}))[0];return["Hearts","Diamonds","Spades","Clubs"][JSON.parse(t).indexOf(a)]}(P(f));c(p)}return Object(d.jsx)("div",{children:"You"===a.highBidder&&Object(d.jsx)("div",{className:"playeraction",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(l)},children:[Object(d.jsxs)("select",{value:l,onChange:function(e){return o(e.target.value)},children:[Object(d.jsx)("option",{value:"Hearts",children:"Hearts"}),Object(d.jsx)("option",{value:"Diamonds",children:"Diamonds"}),Object(d.jsx)("option",{value:"Spades",children:"Spades"}),Object(d.jsx)("option",{value:"Clubs",children:"Clubs"})]}),Object(d.jsx)("button",{children:"Select Suit"})]})})})}),R=function(e){var t=e.bid,a=e.bidder;return console.log("ViewBid",t),Object(d.jsxs)("div",{className:"playermessagebox",children:[t&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"playermessageboxheader",children:t.bidder}),Object(d.jsx)("div",{className:"playermessageboxtext",children:t.playerBid||"Pass"})]}),!t&&"You"!==a&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"playermessageboxheader",children:a}),Object(d.jsx)("div",{className:"playermessageboxtext",children:"\xa0"})]}),!t&&"You"===a&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"playermessageboxheader",children:"You"}),Object(d.jsx)("div",{className:"playermessageboxtext",children:"We're waiting!"})]})]})},E=function(e){var t=e.draw,a=e.drawer;return Object(d.jsxs)("div",{className:"playermessagebox",children:[t&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"playermessageboxheader",children:a}),Object(d.jsxs)("div",{className:"playermessageboxtext",children:["Draws ",t]})]}),!t&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"playermessageboxheader",children:a}),Object(d.jsx)("div",{className:"playermessageboxtext",children:"\xa0"})]})]})},W=function(e){var t=e.card,a=e.player;return Object(d.jsx)("div",{className:"playermessagebox",children:t&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"playermessageboxheader",children:a}),Object(d.jsx)("div",{className:"playerplayedcard",children:Object(d.jsx)("img",{src:t.image,alt:"Card",width:"93px"})})]})})},K=(a(21),function(e){var t=e.stage,a=e.players,r=e.actions;e.bidData;return Object(d.jsxs)("div",{className:"table",children:[Object(d.jsx)("div",{className:"tablerowtop",children:Object(d.jsx)("div",{className:"tableplayerbox player3",children:Object(d.jsxs)("div",{className:"playerslot",children:["Bidding"===t&&Object(d.jsx)(R,{bid:r[2],bidder:a[2]}),"Drawing"===t&&Object(d.jsx)(E,{draw:r[2],drawer:a[2]}),"Playing"===t&&Object(d.jsx)(W,{card:r[2],player:a[2]})]})})}),Object(d.jsxs)("div",{className:"tablerowmid",children:[Object(d.jsx)("div",{className:"tableplayerbox player2",children:Object(d.jsxs)("div",{className:"playerslot",children:["Bidding"===t&&Object(d.jsx)(R,{bid:r[1],bidder:a[1]}),"Drawing"===t&&Object(d.jsx)(E,{draw:r[1],drawer:a[1]}),"Playing"===t&&Object(d.jsx)(W,{card:r[1],player:a[1]})]})}),Object(d.jsx)("div",{className:"tableplayerbox player4",children:Object(d.jsxs)("div",{className:"playerslot",children:["Bidding"===t&&Object(d.jsx)(R,{bid:r[3],bidder:a[3]}),"Drawing"===t&&Object(d.jsx)(E,{draw:r[3],drawer:a[3]}),"Playing"===t&&Object(d.jsx)(W,{card:r[3],player:a[3]})]})})]}),Object(d.jsx)("div",{className:"tablerowbottom",children:Object(d.jsx)("div",{className:"tableplayerbox player1",children:Object(d.jsxs)("div",{className:"playerslot",children:["Bidding"===t&&Object(d.jsx)(R,{bid:r[0],bidder:a[0]}),"Drawing"===t&&Object(d.jsx)(E,{draw:r[0],drawer:a[0]}),"Playing"===t&&Object(d.jsx)(W,{card:r[0]})]})})}),Object(d.jsx)("div",{className:"tablerowlog",children:Object(d.jsx)("div",{className:"tablelogbox",children:Object(d.jsx)("div",{className:"logslot"})})})]})}),Q=function(e){var t=e.deckUrl,a=e.bidOrder,c=e.sendBidData,i=Object(r.useState)(""),n=Object(s.a)(i,2),l=n[0],o=n[1],j=Object(r.useState)(""),u=Object(s.a)(j,2),b=u[0],h=u[1],O=Object(r.useState)(""),x=Object(s.a)(O,2),f=x[0],v=x[1],p=Object(r.useState)(""),m=Object(s.a)(p,2),g=m[0],S=m[1],y=Object(r.useState)(""),k=Object(s.a)(y,2),w=k[0],N=k[1],D=Object(r.useState)(1),B=Object(s.a)(D,2),C=B[0],P=B[1],H=Object(r.useState)({highBid:null,highBidder:null,trumpSuit:null}),U=Object(s.a)(H,2),Y=U[0],A=U[1];Object(r.useEffect)((function(){A({highBid:null,highBidder:null,trumpSuit:null})}),[a]);var L=a[C-1],R=a[3];switch(C){case 1:if(l){var E=I(l,Y),W=E.highBid,Q=E.highBidder;W&&A({highBid:W,highBidder:Q,trumpSuit:w}),P(2)}break;case 2:if(b){var G=I(b,Y),V=G.highBid,_=G.highBidder;V&&A({highBid:V,highBidder:_,trumpSuit:w}),P(3)}break;case 3:if(f){var q=I(f,Y),z=q.highBid,F=q.highBidder;z&&A({highBid:z,highBidder:F,trumpSuit:w}),P(4)}break;case 4:if(g){var X=I(g,Y),Z=X.highBid,$=X.highBidder;Z?A({highBid:Z,highBidder:$,trumpSuit:w}):Y.highBid||A({highBid:"15",highBidder:R,trumpSuit:w}),P(5)}break;case 5:if(w){var ee=Y.highBid,te=Y.highBidder;A({highBid:ee,highBidder:te,trumpSuit:w}),P(6)}break;case 6:c(Y);default:console.log("bid turn default hit")}var ae=[l,b,f,g];function re(e,t){var a=t.indexOf(e);return ae[a]}var ce=["You","Mario","Partner","Luigi"];return Object(d.jsxs)("div",{className:"game",children:[Object(d.jsx)("div",{className:"viewTableContainer",children:Object(d.jsx)(K,{stage:"Bidding",players:ce,actions:function(e,t){for(var a=[],r=0;r<ce.length;r++)a[r]=re(ce[r],t);return a}(0,a),bidData:Y})}),Object(d.jsx)("div",{className:"playerWindowContainer",children:Object(d.jsxs)("div",{className:"playerwindow",children:[Object(d.jsx)(M,{deckUrl:t,player:"You"}),1===C&&Object(d.jsx)(T,{deckUrl:t,bidder:L,bidData:Y,dealer:R,sendBid:o}),2===C&&Object(d.jsx)(T,{deckUrl:t,bidder:L,bidData:Y,dealer:R,sendBid:h}),3===C&&Object(d.jsx)(T,{deckUrl:t,bidder:L,bidData:Y,dealer:R,sendBid:v}),4===C&&Object(d.jsx)(T,{deckUrl:t,bidder:L,bidData:Y,dealer:R,sendBid:S}),5===C&&Object(d.jsx)(J,{deckUrl:t,bidData:Y,sendTrumpSuit:N})]})})]})};function G(e,t,a){for(var r=null,c=-50,i=0;i<e.length;i++){var n=H(e[i].code,t,a);n>c&&(c=n,r=i)}return e[r]}function V(e,t,a){for(var r=null,c=50,i=0;i<e.length;i++){var n=H(e[i].code,t,a);n<c&&(c=n,r=i)}return e[r]}function _(){return(_=Object(b.a)(u.a.mark((function e(t,a,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t+"/pile/discard/add/?cards="+a.code).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){return a}));case 2:r(a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=function(e){var t=e.deckUrl,a=e.player,c=(e.position,e.leadSuit,e.sendPlayCard),i=(e.trumpSuit,Object(r.useState)(0)),n=Object(s.a)(i,2),l=n[0],o=n[1],j=A(t+"/pile/"+a+"/list/"),u=j.data,b=(j.error,j.isPending,[]);return u&&(b=u.piles[a].cards),Object(d.jsx)("div",{children:u&&Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t,a){_.apply(this,arguments)}(t,b[l],c)},children:[Object(d.jsxs)("select",{value:l,onChange:function(e){return o(e.target.value)},children:[b[0]&&Object(d.jsx)("option",{value:0,children:b[0].code}),b[1]&&Object(d.jsx)("option",{value:1,children:b[1].code}),b[2]&&Object(d.jsx)("option",{value:2,children:b[2].code}),b[3]&&Object(d.jsx)("option",{value:3,children:b[3].code}),b[4]&&Object(d.jsx)("option",{value:4,children:b[4].code})]}),Object(d.jsx)("button",{children:"Play Card"})]})})},z=function(e){var t=e.deckUrl,a=e.player,c=e.position,i=e.leadSuit,n=e.sendPlayCard,l=e.trumpSuit,o=A(t+"/pile/"+a+"/list/"),j=o.data,u=o.error,b=o.isPending,h=Object(r.useState)(null),O=Object(s.a)(h,2),x=O[0],f=O[1];if(j&&!x){var v=function(e,t,a,r){var c;switch(e){case 1:c=G(t,a);break;case 2:c=G(t,a,r);break;case 3:case 4:c=V(t,a,r);break;default:console.log("defaultHit")}return c}(c,j.piles[a].cards,l,i);fetch(t+"/pile/discard/add/?cards="+v.code).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){f(v)}))}return j&&x&&n(x),Object(d.jsxs)("div",{children:[u&&Object(d.jsx)("div",{children:u}),b&&Object(d.jsx)("div",{children:"Thinking..."}),j&&Object(d.jsx)("div",{children:"Data"})]})};var F=function(e){var t=e.bidData;return Object(d.jsxs)("div",{className:"bidInfo",children:[Object(d.jsx)("div",{className:"bidInfoBox",children:"Bid Info"}),Object(d.jsxs)("div",{className:"bidInfoBox",children:["Bid: ",t.highBid," "]}),Object(d.jsxs)("div",{className:"bidInfoBox",children:["Bidder: ",t.highBidder]}),Object(d.jsxs)("div",{className:"bidInfoBox",children:["Suit: ",t.trumpSuit]})]})},X=function(e){var t=e.deckUrl,a=e.player,c=e.order,i=e.sendBookInfo,n=e.book,l=e.bookInfo,o=e.bidData,j=Object(r.useState)(""),u=Object(s.a)(j,2),b=u[0],h=u[1],O=Object(r.useState)(""),x=Object(s.a)(O,2),f=x[0],v=x[1],p=Object(r.useState)(""),m=Object(s.a)(p,2),g=m[0],S=m[1],y=Object(r.useState)(""),k=Object(s.a)(y,2),w=k[0],N=k[1],D=Object(r.useState)(""),B=Object(s.a)(D,2),C=B[0],P=B[1],U=Object(r.useState)(1),I=Object(s.a)(U,2),Y=I[0],A=I[1],T=[b,f,g,w],L=n,J=function(e,t){var a,r=e[e.length-1];return r&&(a=r.winningPlayer),"Mario"===a?["Mario","Partner","Luigi","You"]:"Partner"===a?["Partner","Luigi","You","Mario"]:"Luigi"===a?["Luigi","You","Mario","Partner"]:"You"===a?["You","Mario","Partner","Luigi"]:t}(l,c);if(1===Y&&b)P(b.code.charAt(1)),A(2);else if(2===Y&&f)A(3);else if(3===Y&&g)A(4);else if(4===Y&&w)setTimeout((function(){A(5)}),2e3);else if(5===Y){for(var R,E=50,W=0;W<T.length;W++){var Q=H(T[W].code,o.trumpSuit,C);Q<E&&(E=Q,R=W)}var G=T[R].code;i({bookNum:L,winningPlayer:J[R],highCard:G})}function V(e,r){return Z(a,J)===e?Object(d.jsx)(q,{deckUrl:t,player:a,position:e,sendPlayCard:r,trumpSuit:o.trumpSuit,leadSuit:C}):Object(d.jsx)(z,{deckUrl:t,player:J[e-1],position:e,sendPlayCard:r,trumpSuit:o.trumpSuit,leadSuit:C})}function _(e,t){var a=t.indexOf(e);return T[a]}var X=["You","Mario","Partner","Luigi"];return Object(d.jsxs)("div",{className:"game",children:[Object(d.jsx)("div",{className:"viewTableContainer",children:Object(d.jsx)(K,{stage:"Playing",players:X,actions:function(e){for(var t=[],a=0;a<X.length;a++)t[a]=_(X[a],e);return t}(J)})}),Object(d.jsx)("div",{className:"bidInfoContainer",children:Object(d.jsx)(F,{bidData:o})}),Object(d.jsx)("div",{className:"playerWindowContainer"}),Object(d.jsxs)("div",{className:"playerwindow",children:[Object(d.jsx)(M,{deckUrl:t,player:a}),Object(d.jsxs)("div",{className:"playeraction",children:[Y>0&&!b&&V(1,h),Y>1&&!f&&V(2,v),Y>2&&!g&&V(3,S),Y>3&&!w&&V(4,N)]})]})]})};function Z(e,t){return t.indexOf(e)+1}a(22);var $=function(e){var t=e.deckUrl,a=e.drawer,c=(e.trumpSuit,e.sendDraw),i=Object(r.useState)(!1),n=Object(s.a)(i,2),l=n[0],o=n[1],j=Object(r.useState)(!1),u=Object(s.a)(j,2),b=u[0],h=u[1],O=Object(r.useState)(!1),x=Object(s.a)(O,2),v=x[0],p=x[1],m=Object(r.useState)(!1),g=Object(s.a)(m,2),S=g[0],y=g[1],k=Object(r.useState)(!1),w=Object(s.a)(k,2),N=w[0],D=w[1],B=Object(r.useState)(!0),C=Object(s.a)(B,2),P=(C[0],C[1]),H=A(t+"/pile/"+a+"/list/"),U=H.data;H.error,H.isPending;return Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault();for(var r=[l,b,v,S,N],i=[],n=0;n<5;n++)r[n]&&i.push(U.piles[a].cards[n].code);f(t,i,a,c,P)},children:[Object(d.jsxs)("div",{className:"discardhandwindow",children:[Object(d.jsxs)("div",{className:"discardHand",children:[Object(d.jsx)("div",{className:"discardbox",children:Object(d.jsx)("input",{type:"checkbox",name:"card0",onChange:function(e){return o(e.target.checked)},checked:l})}),Object(d.jsx)("div",{className:"discardbox",children:Object(d.jsx)("input",{type:"checkbox",name:"card1",onChange:function(e){return h(e.target.checked)},checked:b})}),Object(d.jsx)("div",{className:"discardbox",children:Object(d.jsx)("input",{type:"checkbox",name:"card2",onChange:function(e){return p(e.target.checked)},checked:v})}),Object(d.jsx)("div",{className:"discardbox",children:Object(d.jsx)("input",{type:"checkbox",name:"card3",onChange:function(e){return y(e.target.checked)},checked:S})}),Object(d.jsx)("div",{className:"discardbox",children:Object(d.jsx)("input",{type:"checkbox",name:"card4",onChange:function(e){return D(e.target.checked)},checked:N})})]}),Object(d.jsx)("div",{className:"playeraction"})]}),Object(d.jsx)("button",{children:"Discard Selected"})]})},ee=function(e){var t=e.deckUrl,a=e.drawer,c=e.trumpSuit,i=e.sendDraw,n=Object(r.useState)(null),l=Object(s.a)(n,2),o=l[0],j=l[1],u=Object(r.useState)(!0),b=Object(s.a)(u,2),h=b[0],O=b[1],x=A(t+"/pile/"+a+"/list/"),v=x.data,p=x.error,m=x.isPending;return Object(r.useEffect)((function(){if(v){var e,r,i=v.piles[a].cards,n=[],s=Object(Y.a)(i);try{for(s.s();!(r=s.n()).done;)"AH"!==(e=r.value).code&&e.code.charAt(1)!==c.charAt(0)&&n.push(e.code)}catch(d){s.e(d)}finally{s.f()}f(t,n,a,j,O)}}),[v]),v&&o&&!h&&i(o),Object(d.jsxs)("div",{children:[p&&Object(d.jsx)("div",{children:p}),m&&Object(d.jsx)("div",{children:"Thinking...."}),v&&Object(d.jsx)("div",{children:"Done"}),";"]})},te=function(e){var t=e.deckUrl,a=e.roundOrder,c=e.bidData,i=e.sendDiscardData,n=Object(r.useState)(""),l=Object(s.a)(n,2),o=l[0],j=l[1],u=Object(r.useState)(""),b=Object(s.a)(u,2),h=b[0],O=b[1],x=Object(r.useState)(""),f=Object(s.a)(x,2),v=f[0],p=f[1],m=Object(r.useState)(""),g=Object(s.a)(m,2),S=g[0],y=g[1],k=Object(r.useState)(1),w=Object(s.a)(k,2),N=w[0],D=w[1];switch(N){case 1:o&&D(2);break;case 2:h&&D(3);break;case 3:v&&D(4);break;case 4:S&&D(5);break;case 5:i(!0)}var B=a[N-1];function C(e,r){return Z("You",a)===e?Object(d.jsx)($,{deckUrl:t,drawer:B,trumpSuit:c.trumpSuit,sendDraw:r}):Object(d.jsx)(ee,{deckUrl:t,drawer:B,trumpSuit:c.trumpSuit,sendDraw:r})}var P=[o,h,v,S];function H(e,t){var a=t.indexOf(e);return P[a]}var U=["You","Mario","Partner","Luigi"];return Object(d.jsxs)("div",{className:"game",children:[Object(d.jsx)("div",{className:"viewTableContainer",children:Object(d.jsx)(K,{stage:"Drawing",players:U,actions:function(e,t){for(var a=[],r=0;r<U.length;r++)a[r]=H(U[r],t);return a}(0,a),bidData:c})}),Object(d.jsx)("div",{className:"bidInfoContainer",children:Object(d.jsx)(F,{bidData:c})}),Object(d.jsx)("div",{className:"playerWindowContainer",children:Object(d.jsxs)("div",{className:"playerwindow",children:[Object(d.jsx)(M,{deckUrl:t,player:"You"}),N>0&&!o&&C(1,j),N>1&&!h&&C(2,O),N>2&&!v&&C(3,p),N>3&&!S&&C(4,y),4===N&&S&&Object(d.jsx)("div",{children:"Hey!"})]})})]})},ae=function(e){var t=e.team1,a=e.team2,r=e.sendRoundScore,c=e.sendStage;return Object(d.jsxs)("div",{classname:"gamewindow",children:[Object(d.jsxs)("div",{className:"biddingwindow",children:[Object(d.jsx)("div",{className:"windowheader",children:"Round Over!"}),Object(d.jsxs)("div",{className:"playwinner",children:["Team 1: ",t]}),Object(d.jsxs)("div",{className:"playwinner",children:["Team 2: ",a]})]}),Object(d.jsx)("div",{className:"nextroundbutton",children:Object(d.jsx)("button",{onClick:function(){r([t,a]),c("Over")},children:"Next Round"})})]})},re=function(e){var t=e.deckUrl,a=e.round,c=e.sendRoundScore,i=e.newRound,n=Object(r.useState)(!0),l=Object(s.a)(n,2),o=l[0],j=l[1],u=Object(r.useState)(""),b=Object(s.a)(u,2),O=b[0],x=b[1],f=Object(r.useState)("Deal"),v=Object(s.a)(f,2),p=v[0],m=v[1],g=Object(r.useState)(!1),S=Object(s.a)(g,2),y=S[0],k=S[1],w=Object(r.useState)(null),N=Object(s.a)(w,2),D=N[0],B=N[1],C=Object(r.useState)(1),P=Object(s.a)(C,2),U=P[0],I=P[1],Y=Object(r.useState)([]),A=Object(s.a)(Y,2),T=A[0],L=A[1],M=Object(r.useState)(null),J=Object(s.a)(M,2),R=J[0],E=J[1];i&&"Over"===p&&(j(!0),x(""),m("Deal"),k(!1),B(null),I(1),L([]),E(null),console.log("wipe"));var W="You";Object(r.useEffect)((function(){!function(e,t,a,r){h.apply(this,arguments)}(t,a,j,E)}),[t,a]),t&&"Deal"===p&&!o&&m("Bid"),O&&"Bid"===p&&!o&&m("Discard"),y&&"Discard"===p&&m("Play"),D&&(T[U-1]=D,L(T),B(""),I(U+1)),"Play"===p&&5===T.length&&(m("Winner"),I(0));var K=0,G=0;if("Winner"===p){for(var V=50,_=null,q=0;q<5;q++){"You"===T[q].winningPlayer||"Partner"===T[q].winningPlayer?K+=1:G+=1;var z=H(T[q].highCard,O.trumpSuit);V>z&&(V=z,_=T[q].winningPlayer)}"You"===_||"Partner"===_?K+=1:G+=1,6===K&&(K=9),6===G&&(G=9);var F=O.highBid;"You"===O.highBidder||"Partner"===O.highBidder?"15"===F&&K<3?K=-3:"20"===F&&K<4?K=-4:"25"===F&&K<5?K=-5:"30"===F&&K<6?K=-6:"30No"===F&&G<6&&(K=-12):"15"===F&&G<3?G=-3:"20"===F&&G<4?G=-4:"25"===F&&G<5?G=-5:"30"===F&&G<6?G=-6:"30No"===F&&G<6&&(G=-12)}return Object(d.jsxs)("div",{className:"content",children:["Deal"===p&&o&&Object(d.jsx)("div",{className:"gamewindow loading",children:"Dealing...."}),"Bid"===p&&R&&Object(d.jsx)("div",{children:Object(d.jsx)(Q,{deckUrl:t,bidOrder:R,sendBidData:x})}),"Discard"===p&&Object(d.jsx)("div",{children:Object(d.jsx)(te,{deckUrl:t,roundOrder:R,bidData:O,sendDiscardData:k})}),"Play"===p&&1===U&&Object(d.jsx)("div",{children:Object(d.jsx)(X,{deckUrl:t,player:W,order:R,sendBookInfo:B,book:U,bookInfo:T,bidData:O})}),"Play"===p&&2===U&&Object(d.jsx)("div",{children:Object(d.jsx)(X,{deckUrl:t,player:W,order:R,sendBookInfo:B,book:U,bookInfo:T,bidData:O})}),"Play"===p&&3===U&&Object(d.jsx)("div",{children:Object(d.jsx)(X,{deckUrl:t,player:W,order:R,sendBookInfo:B,book:U,bookInfo:T,bidData:O})}),"Play"===p&&4===U&&Object(d.jsx)("div",{children:Object(d.jsx)(X,{deckUrl:t,player:W,order:R,sendBookInfo:B,book:U,bookInfo:T,bidData:O})}),"Play"===p&&5===U&&Object(d.jsx)("div",{children:Object(d.jsx)(X,{deckUrl:t,player:W,order:R,sendBookInfo:B,book:U,bookInfo:T,bidData:O})}),"Winner"===p&&Object(d.jsx)(ae,{team1:K,team2:G,sendRoundScore:c,sendStage:m})]})},ce=function(){var e=A("https://deckofcardsapi.com/api/deck/new/"),t=e.data,a=e.isPending,c=e.error,i=Object(r.useState)(1),n=Object(s.a)(i,2),l=n[0],j=n[1],u=Object(r.useState)([0,0]),b=Object(s.a)(u,2),h=b[0],O=b[1],x=Object(r.useState)(null),f=Object(s.a)(x,2),v=f[0],p=f[1],m=Object(r.useState)([]),g=Object(s.a)(m,2),S=g[0],y=g[1],k=Object(r.useState)(""),w=Object(s.a)(k,2),N=w[0],D=w[1],B=null;t&&(B="https://deckofcardsapi.com/api/deck/"+t.deck_id);var C=[];return v&&(S[l]=v,C[0]=h[0]+v[0],C[1]=h[1]+v[1],console.log("scoring",C,v,l),y(S),O(C),C[0]>30&&D("Team 1 Wins"),C[1]>30&&D("Team 2 Wins"),p(null),j(l+1)),Object(d.jsxs)("div",{className:"gamewindow",children:[a&&Object(d.jsx)("div",{className:"gamewindow loading",children:"Setting up..."}),c&&Object(d.jsx)("div",{className:"gamewindow loading",children:c}),B&&!N&&Object(d.jsxs)("div",{className:"game",children:[Object(d.jsx)(o,{round:l,gameScore:h}),Object(d.jsx)(re,{deckUrl:B,round:l,sendRoundScore:p,newRound:!0})]}),N&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:N}),Object(d.jsxs)("h3",{children:["Team 1: ",h[0]]}),Object(d.jsxs)("h3",{children:["Team 2: ",h[1]]}),Object(d.jsx)("button",{children:"Play Again"})]})]})},ie=(a(23),function(){return Object(d.jsxs)("div",{className:"footer",children:[Object(d.jsx)("div",{className:"footeritem",children:Object(d.jsx)("a",{href:"https://github.com/dsull29/45s",target:"new",children:"GitHub Page"})}),Object(d.jsx)("div",{className:"footeritem",children:Object(d.jsx)("a",{href:"https://github.com/dsull29/45s/issues",target:"new",children:"Report a bug"})})]})});var ne=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(l,{}),!1===a&&Object(d.jsx)("div",{className:"gamewindow",children:Object(d.jsx)("button",{className:"startbutton",onClick:function(){return c(!0)},children:"Start Game"})}),a&&Object(d.jsx)(ce,{}),Object(d.jsx)(ie,{})]})};n.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(ne,{})}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.774acf6b.chunk.js.map