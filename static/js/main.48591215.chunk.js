(this.webpackJsonp45s=this.webpackJsonp45s||[]).push([[0],{12:function(e,t,r){},15:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r.n(c),a=r(7),i=r.n(a),s=(r(6),r(2)),d=(r(12),r(0)),o=function(e){var t=e.scoreLog;return Object(d.jsx)("div",{className:"scoreboard",style:{textAlign:"left"},children:Object(d.jsx)("div",{className:"score",children:Object(d.jsx)("span",{children:Object(d.jsxs)("h3",{children:["Team 1: ",t.team1Score," | Team 2: ",t.team2Score," | Round ",t.roundNum+1]})})})})},u=function(e){var t=Object(c.useState)(null),r=Object(s.a)(t,2),n=r[0],a=r[1],i=Object(c.useState)(!0),d=Object(s.a)(i,2),o=d[0],u=d[1],j=Object(c.useState)(null),l=Object(s.a)(j,2),b=l[0],h=l[1];return Object(c.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){a(e),u(!1),h(null)})).catch((function(e){"AbortError"===e.name?console.log("fetch aborted"):(u(!1),h(e.message))})),function(){return t.abort()}}),[e]),{data:n,isPending:o,error:b}},j=function(e){var t=e.card;return Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:t.image,alt:"Card",width:"100%",height:"100%"})})},l=function(e){var t=e.deckUrl,r=e.player,c=e.round,n=u(t+"/pile/"+r+"/list/"),a=n.data,i=n.isPending,s=n.error,o=[];return a&&a.piles[r]&&a.piles[r].cards&&(o=a.piles[r].cards),Object(d.jsxs)("div",{children:[s&&Object(d.jsx)("div",{children:s}),i&&Object(d.jsx)("div",{children:"Loading..."}),a&&o&&Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"hand",children:[o[0]&&Object(d.jsx)(j,{card:o[0],round:c}),o[1]&&Object(d.jsx)(j,{card:o[1],round:c}),o[2]&&Object(d.jsx)(j,{card:o[2],round:c}),o[3]&&Object(d.jsx)(j,{card:o[3],round:c}),o[4]&&Object(d.jsx)(j,{card:o[4],round:c})]})})]})},b=r(3),h=r.n(b),O=r(4),f=[-35,-21,-18,-13,-11,-10,-9,-8,-7,-6,-5,-4,-3,-2,-1],p=[13,12,11,10,9,8,7,6,5,4,3,2,1,0],x=["5H","JH","AH","KH","QH","0H","9H","8H","7H","6H","4H","3H","2H"],v=["5D","JD","AH","AD","KD","QD","0D","9D","8D","7D","6D","4D","3D","2D"],S=["5S","JS","AH","AS","KS","QS","2S","3S","4S","6S","7S","8S","9S","0S"],k=["5C","JC","AH","AC","KC","QC","2C","3C","4C","6C","7C","8C","9C","0C"],g=["2H","3H","4H","5H","6H","7H","8H","9H","0H","JH","QH","KH"],m=["AD","2D","3D","4D","5D","6D","7D","8D","9D","0D","JD","QD","KD"],y=["0S","9S","8S","7S","6S","5S","4S","3S","2S","AS","JS","QS","KS"],C=["0C","9C","8C","7C","6C","5C","4C","3C","2C","AC","JC","QC","KC"];function D(e){var t,r,c,n;t=r=c=n=0;for(var a=0;a<5;a++){var i=e[a];t+=H(i),r+=B(i),c+=P(i),n+=U(i)}return[t,r,c,n]}function w(e,t){switch(t){case"Hearts":return H(e);case"Diamonds":return B(e);case"Spades":return P(e);case"Clubs":return U(e);default:return 0}}function H(e){return f[x.indexOf(e)]||p[m.indexOf(e)]||p[C.indexOf(e)]||p[y.indexOf(e)]}function B(e){return f[v.indexOf(e)]||p[g.indexOf(e)]||p[C.indexOf(e)]||p[y.indexOf(e)]}function P(e){return f[S.indexOf(e)]||p[m.indexOf(e)]||p[C.indexOf(e)]||p[g.indexOf(e)]}function U(e){return f[k.indexOf(e)]||p[m.indexOf(e)]||p[g.indexOf(e)]||p[y.indexOf(e)]}function N(e){var t=e.sort((function(e,t){return e-t}))[0],r=null;return t<-25?r="20":t<-5&&(r="15"),r}function A(e,t){for(var r=null,c=-50,n=0;n<e.length;n++){var a=w(e[n].code,t);a>c&&(c=a,r=n)}return e[r]}function E(e,t){for(var r=null,c=50,n=0;n<e.length;n++){var a=w(e[n].code,t);a<c&&(c=a,r=n)}return e[r]}function J(){return(J=Object(O.a)(h.a.mark((function e(t,r,c,n){var a,i,s,d,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t,r);case 2:return a=e.sent,i=5-a.piles[c].remaining,e.next=6,K(t,i);case 6:if(s=e.sent,d=[],s.cards)for(o=0;o<s.cards.length;o++)d.push(s.cards[o].code);return e.next=11,L(t,c,d);case 11:n(!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return I.apply(this,arguments)}function I(){return(I=Object(O.a)(h.a.mark((function e(t,r){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t+"/pile/discard/add/?cards="+r.toString()).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){return e}));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(O.a)(h.a.mark((function e(t,r){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t+"/draw/?count="+r).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){return e}));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t,r){return R.apply(this,arguments)}function R(){return(R=Object(O.a)(h.a.mark((function e(t,r,c){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t+"/pile/"+r+"/add/?cards="+c.toString()).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(O.a)(h.a.mark((function e(t,r,c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t+"/pile/discard/add/?cards="+r.code).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){return r}));case 2:e.sent,c(r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=function(e){var t=e.hands,r=e.order,n=e.dealer,a=e.sendBidData,i=Object(c.useState)(!1),o=Object(s.a)(i,2),u=o[0],j=o[1],l=Object(c.useState)("Take"),b=Object(s.a)(l,2),h=b[0],O=b[1],f=Object(c.useState)(""),p=Object(s.a)(f,2),x=p[0],v=p[1],S=Object(c.useState)(""),k=Object(s.a)(S,2),g=k[0],m=k[1],y="player1",C=y===n;Object(c.useEffect)((function(){var e=function(e,t){for(var r,c,n=0,a=0;a<3;a++)(r=N(D(e[a])))>n&&(n=r,c=t[a]);return{highBid:n,highBidder:c}}(t,r);e.highBid&&(v(e.highBid),m(e.highBidder))}),[t,r]);return u&&a({highBid:{highBid:x},highBidder:{highBidder:g}}),Object(d.jsxs)("div",{className:"bid",children:[Object(d.jsxs)("div",{className:"currentBid",children:[x," from ",g]}),!u&&Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"Take"===h?m(y):"Pass"!==h&&(v(h),m(y)),j(!0)},children:[Object(d.jsxs)("select",{value:h,onChange:function(e){return O(e.target.value)},children:[C&&Object(d.jsx)("option",{value:"Take",children:"Take"}),Object(d.jsx)("option",{value:"Pass",children:"Pass"}),null===x&&Object(d.jsx)("option",{value:"15",children:"15"}),"15"===x&&Object(d.jsx)("option",{value:"20",children:"20"}),Object(d.jsx)("option",{value:"25",children:"25"}),Object(d.jsx)("option",{value:"30",children:"30"}),Object(d.jsx)("option",{value:"30No",children:"30 No Draw"})]}),Object(d.jsx)("button",{children:"Place Bid"})]})})]})};var M=function(e){var t=e.highBidder,r=e.sendTrumpSuit,n=Object(c.useState)("Hearts"),a=Object(s.a)(n,2),i=a[0],o=a[1];return Object(d.jsx)("div",{children:"player1"===t&&Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(i)},children:[Object(d.jsxs)("select",{value:i,onChange:function(e){return o(e.target.value)},children:[Object(d.jsx)("option",{value:"Hearts",children:"Hearts"}),Object(d.jsx)("option",{value:"Diamonds",children:"Diamonds"}),Object(d.jsx)("option",{value:"Spades",children:"Spades"}),Object(d.jsx)("option",{value:"Clubs",children:"Clubs"})]}),Object(d.jsx)("button",{children:"Select Suit"})]})})})},W=function(e){var t=e.deckUrl,r=e.player,n=e.sendDiscardData,a=Object(c.useState)(!1),i=Object(s.a)(a,2),o=i[0],j=i[1],l=Object(c.useState)(!1),b=Object(s.a)(l,2),h=b[0],O=b[1],f=Object(c.useState)(!1),p=Object(s.a)(f,2),x=p[0],v=p[1],S=Object(c.useState)(!1),k=Object(s.a)(S,2),g=k[0],m=k[1],y=Object(c.useState)(!1),C=Object(s.a)(y,2),D=C[0],w=C[1],H=u(t+"/pile/"+r+"/list/"),B=H.data;H.isPending,H.error;return Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault();for(var c=[o,h,x,g,D],a=[],i=0;i<5;i++)c[i]&&a.push(B.piles[r].cards[i].code);!function(e,t,r,c){J.apply(this,arguments)}(t,a,r,n)},children:[Object(d.jsxs)("div",{className:"discardHand",children:[Object(d.jsx)("input",{type:"checkbox",name:"card0",onChange:function(e){return j(e.target.checked)},checked:o,className:"dischardCheckBox"}),Object(d.jsx)("input",{type:"checkbox",name:"card1",onChange:function(e){return O(e.target.checked)},checked:h}),Object(d.jsx)("input",{type:"checkbox",name:"card2",onClick:function(e){return v(e.target.checked)},checked:x}),Object(d.jsx)("input",{type:"checkbox",name:"card3",onChange:function(e){return m(e.target.checked)},checked:g}),Object(d.jsx)("input",{type:"checkbox",name:"card4",onChange:function(e){return w(e.target.checked)},checked:D})]}),Object(d.jsx)("button",{children:"Discard Selected"})]})},_=function(e){var t=e.bidData,r=e.suit,c=e.book,n=t.highBid.highBid,a=t.highBidder.highBidder;return Object(d.jsxs)("div",{children:[!r&&Object(d.jsx)("h3",{children:n+" from "+a+" in..."}),r&&Object(d.jsx)("h3",{children:n+" from "+a+" in "+r}),c&&Object(d.jsxs)("h4",{children:["Book: ",c," "]})]})},q=function(e){var t=e.card;return Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:t.image,alt:"Card",width:"100%",height:"100%"})})},z=function(e){var t=e.deckUrl,r=e.player,n=(e.position,e.leadSuit,e.sendPlayCard),a=(e.trumpSuit,Object(c.useState)(0)),i=Object(s.a)(a,2),o=i[0],j=i[1],l=u(t+"/pile/"+r+"/list/"),b=l.data,h=(l.error,l.isPending,[]);return b&&(h=b.piles[r].cards),Object(d.jsx)("div",{children:b&&Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t,r){F.apply(this,arguments)}(t,h[o],n)},children:[Object(d.jsxs)("select",{value:o,onChange:function(e){return j(e.target.value)},children:[h[0]&&Object(d.jsx)("option",{value:0,children:h[0].code}),h[1]&&Object(d.jsx)("option",{value:1,children:h[1].code}),h[2]&&Object(d.jsx)("option",{value:2,children:h[2].code}),h[3]&&Object(d.jsx)("option",{value:3,children:h[3].code}),h[4]&&Object(d.jsx)("option",{value:4,children:h[4].code})]}),Object(d.jsx)("button",{children:"Play Card"})]})})},V=function(e){var t=e.deckUrl,r=e.player,n=e.position,a=(e.leadSuit,e.sendPlayCard),i=e.trumpSuit,o=u(t+"/pile/"+r+"/list/"),j=o.data,l=o.error,b=o.isPending,h=Object(c.useState)(null),O=Object(s.a)(h,2),f=O[0],p=O[1];if(j&&!f){var x=function(e,t,r){var c;switch(e){case 1:case 2:c=A(t,r);break;case 3:case 4:c=E(t,r);break;default:console.log("defaultHit")}return c}(n,j.piles[r].cards,i);fetch(t+"/pile/discard/add/?cards="+x.code).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){p(x)}))}return j&&f&&a(f),Object(d.jsxs)("div",{children:[l&&Object(d.jsx)("div",{children:l}),b&&Object(d.jsx)("div",{children:"Thinking...."}),j&&Object(d.jsx)("div",{children:"Dawn"}),";"]})};var X=function(e){var t,r=e.deckUrl,n=(e.player,e.order),a=e.sendBookInfo,i=e.book,o=e.trumpSuit,u=Object(c.useState)(""),j=Object(s.a)(u,2),l=j[0],b=j[1],h=Object(c.useState)(""),O=Object(s.a)(h,2),f=O[0],p=O[1],x=Object(c.useState)(""),v=Object(s.a)(x,2),S=v[0],k=v[1],g=Object(c.useState)(""),m=Object(s.a)(g,2),y=m[0],C=m[1],D=Object(c.useState)(""),H=Object(s.a)(D,2),B=H[0],P=H[1],U=Object(c.useState)(1),N=Object(s.a)(U,2),A=N[0],E=N[1];if(1===A&&l)P(l.code.charAt(1)),E(2);else if(2===A&&f)E(3);else if(3===A&&S)E(4);else if(4===A&&y)E(5);else if(5===A){i=[l,f,S,y];for(var J=50,T=0;T<i.length;T++){var I=w(i[T].code,o);I<J&&(J=I,t=T)}a({winner:t,highCard:i[t].code}),E(0),b(""),p(""),k(""),C("")}return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"handInfo",children:5===A&&Object(d.jsxs)("div",{children:["Find Winner Now, ",t]})}),Object(d.jsxs)("div",{className:"hand",children:[Object(d.jsxs)("div",{children:[A>0&&Object(d.jsx)("div",{children:"Napkin"}),A>0&&!l&&Object(d.jsx)(V,{deckUrl:r,player:n[0],position:1,sendPlayCard:b,trumpSuit:o}),A>1&&!f&&Object(d.jsx)(V,{deckUrl:r,player:n[1],position:2,sendPlayCard:p,trumpSuit:o,leadSuit:B}),A>2&&!S&&Object(d.jsx)(V,{deckUrl:r,player:n[2],position:3,sendPlayCard:k,trumpSuit:o,leadSuit:B}),A>3&&!y&&Object(d.jsx)(z,{deckUrl:r,player:n[3],position:4,sendPlayCard:C,trumpSuit:o,leadSuit:B})]}),l&&Object(d.jsx)(q,{card:l}),f&&Object(d.jsx)(q,{card:f}),S&&Object(d.jsx)(q,{card:S}),y&&Object(d.jsx)(q,{card:y})]})]})},Y=function(e){var t=e.scoreLog,r=(e.sendScoreLog,Object(c.useState)(null)),n=Object(s.a)(r,2),a=n[0],i=n[1],o=Object(c.useState)(!0),j=Object(s.a)(o,2),b=j[0],h=j[1],O=Object(c.useState)(""),f=Object(s.a)(O,2),p=f[0],x=f[1],v=Object(c.useState)("Deal"),S=Object(s.a)(v,2),k=S[0],g=S[1],m=Object(c.useState)(""),y=Object(s.a)(m,2),C=y[0],D=y[1],w=Object(c.useState)(""),H=Object(s.a)(w,2),B=H[0],P=H[1],U=Object(c.useState)(null),N=Object(s.a)(U,2),A=N[0],E=N[1],J=Object(c.useState)(1),T=Object(s.a)(J,2),I=T[0],K=T[1],Q=Object(c.useState)([]),L=Object(s.a)(Q,2),R=L[0],F=L[1],q="player1",z=u("https://deckofcardsapi.com/api/deck/new/draw/?count=20"),V=z.data,Y=(z.error,null);V&&(Y="https://deckofcardsapi.com/api/deck/"+V.deck_id);var Z,$=["player1","player2","player3","player4"],ee=$[t.roundNum%4],te=function(e){var t;t=e?null:["player2","player3","player4","player1"];return t}(A);if(V&&"Deal"===k){var re=[[(Z=V.cards)[0].code,Z[1].code,Z[2].code,Z[12].code,Z[13].code],[Z[3].code,Z[4].code,Z[5].code,Z[14].code,Z[15].code],[Z[6].code,Z[7].code,Z[8].code,Z[16].code,Z[17].code],[Z[9].code,Z[10].code,Z[11].code,Z[18].code,Z[19].code]];i(re),fetch(Y+"/pile/"+$[0]+"/add/?cards="+re[0].toString()).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){return fetch(Y+"/pile/"+$[1]+"/add/?cards="+re[1].toString())})).then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(e){return fetch(Y+"/pile/"+$[2]+"/add/?cards="+re[2].toString())})).then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(e){return fetch(Y+"/pile/"+$[3]+"/add/?cards="+re[3].toString())})).then((function(e){return e.ok?(h(!1),e.json()):Promise.reject(e)})).catch((function(e){"AbortError"===e.name&&console.log("fetch aborted")})),g("Bid")}if(p&&"Bid"===k&&g("SuitSelect"),C&&"SuitSelect"===k&&g("Discard"),B&&"Discard"===k&&g("Play"),A){var ce=A.winner,ne=A.highCard;R.push({bookNum:I,winner:ce,highCard:ne}),F(R),K(I+1),E("")}return Object(d.jsxs)("div",{className:"content",children:["Deal"===k&&b&&Object(d.jsx)("div",{children:"Dealing...."}),"Bid"===k&&Object(d.jsxs)("div",{children:[Object(d.jsx)(l,{deckUrl:Y,player:q,stage:k}),Object(d.jsx)(G,{hands:a,order:$,dealer:ee,sendBidData:x})]}),"SuitSelect"===k&&Object(d.jsxs)("div",{children:[Object(d.jsx)(_,{bidData:p}),Object(d.jsx)(l,{deckUrl:Y,player:q,stage:k}),Object(d.jsx)(M,{highBidder:p.highBidder.highBidder,sendTrumpSuit:D})]}),"Discard"===k&&Object(d.jsxs)("div",{children:[Object(d.jsx)(_,{bidData:p,suit:C}),Object(d.jsx)(l,{deckUrl:Y,player:q,stage:k}),Object(d.jsx)(W,{deckUrl:Y,player:q,sendDiscardData:P})]}),"Redraw"===k&&Object(d.jsxs)("div",{children:[Object(d.jsx)(_,{bidData:p,suit:C}),Object(d.jsx)("div",{children:B.toString()})]}),"Play"===k&&1===I&&Object(d.jsxs)("div",{children:[Object(d.jsx)(_,{bidData:p,suit:C,book:I}),Object(d.jsx)(l,{deckUrl:Y,player:q,stage:k}),Object(d.jsx)(X,{deckUrl:Y,player:q,order:te,sendBookInfo:E,book:I,trumpSuit:C})]}),"Play"===k&&2===I&&Object(d.jsxs)("div",{children:[Object(d.jsx)(_,{bidData:p,suit:C,book:I}),Object(d.jsx)(l,{deckUrl:Y,player:q,stage:k}),Object(d.jsx)(X,{deckUrl:Y,player:q,order:te,sendBookInfo:E,book:I,trumpSuit:C})]}),"Play"===k&&3===I&&Object(d.jsxs)("div",{children:[Object(d.jsx)(_,{bidData:p,suit:C,book:I}),Object(d.jsx)(l,{deckUrl:Y,player:q,stage:k}),Object(d.jsx)(X,{deckUrl:Y,player:q,order:te,sendBookInfo:E,book:I,trumpSuit:C})]}),"Play"===k&&4===I&&Object(d.jsxs)("div",{children:[Object(d.jsx)(_,{bidData:p,suit:C,book:I}),Object(d.jsx)(l,{deckUrl:Y,player:q,stage:k}),Object(d.jsx)(X,{deckUrl:Y,player:q,order:te,sendBookInfo:E,book:I,trumpSuit:C})]}),"Play"===k&&5===I&&Object(d.jsxs)("div",{children:[Object(d.jsx)(_,{bidData:p,suit:C,book:I}),Object(d.jsx)(l,{deckUrl:Y,player:q,stage:k}),Object(d.jsx)(X,{deckUrl:Y,player:q,order:te,sendBookInfo:E,book:I,trumpSuit:C})]})]})},Z=function(){var e=Object(c.useState)({roundNum:0,team1Score:0,team2Score:0}),t=Object(s.a)(e,2),r=t[0],n=t[1];return Object(d.jsxs)("div",{className:"game",children:[Object(d.jsx)(o,{scoreLog:r}),Object(d.jsx)(Y,{scoreLog:r,sendScoreLog:n})]})};var $=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),r=t[0],n=t[1];return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h2",{children:"45s"}),!1===r&&Object(d.jsx)("button",{onClick:function(){return n(!0)},children:"Start Game"}),r&&Object(d.jsx)(Z,{})]})};i.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)($,{})}),document.getElementById("root"))},6:function(e,t,r){}},[[15,1,2]]]);
//# sourceMappingURL=main.48591215.chunk.js.map