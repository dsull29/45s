(this.webpackJsonp45s=this.webpackJsonp45s||[]).push([[0],[,,,,,,,,function(e,t,r){},function(e,t,r){},,,,,,function(e,t,r){},function(e,t,r){},,function(e,t,r){},function(e,t,r){},,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var a=r(1),c=r.n(a),i=r(10),n=r.n(i),s=(r(15),r(2)),d=(r(16),r(0)),l=function(){return Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)("div",{className:"maintitle",children:"45"}),Object(d.jsx)("div",{className:"tagline",children:"Straight out the UMD commuter cafe"})]})},o=(r(18),r(19),function(e){var t=e.round,r=e.gameScore;return Object(d.jsxs)("div",{className:"scoreBoard",style:{textAlign:"left"},children:[Object(d.jsxs)("div",{className:"scoreBoardItem","data-testid":"team1Score",children:["Team 1: ",r[0]]}),Object(d.jsxs)("div",{className:"scoreBoardItem","data-testid":"round",children:["Round: ",t]}),Object(d.jsxs)("div",{className:"scoreBoardItem","data-testid":"team2Score",children:["Team 2: ",r[1]]})]})}),j=r(3),u=r.n(j),b=r(5);function h(){return(h=Object(b.a)(u.a.mark((function e(t,r,a,c){var i,n,s,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=x(r),e.next=3,fetch(t+"/shuffle/");case 3:return e.next=5,fetch(t+"/draw/?count=20");case 5:return n=e.sent,e.next=8,n.json();case 8:return s=e.sent,d=O(s.cards),console.log("handCheck",d,s),e.next=13,fetch(t+"/pile/"+i[0]+"/add/?cards="+d[0].toString());case 13:return e.next=15,fetch(t+"/pile/"+i[1]+"/add/?cards="+d[1].toString());case 15:return e.next=17,fetch(t+"/pile/"+i[2]+"/add/?cards="+d[2].toString());case 17:return e.next=19,fetch(t+"/pile/"+i[3]+"/add/?cards="+d[3].toString());case 19:e.sent&&(c(i),a(!1));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return[[e[0].code,e[1].code,e[2].code,e[12].code,e[13].code],[e[3].code,e[4].code,e[5].code,e[14].code,e[15].code],[e[6].code,e[7].code,e[8].code,e[16].code,e[17].code],[e[9].code,e[10].code,e[11].code,e[18].code,e[19].code]]}function x(e){var t,r=(e-1)%4;return 0===r?t=["Mario","Partner","Luigi","You"]:1===r?t=["Partner","Luigi","You","Mario"]:2===r?t=["Luigi","You","Mario","Partner"]:3===r&&(t=["You","Mario","Partner","Luigi"]),t}function v(e,t,r,a,c){return f.apply(this,arguments)}function f(){return(f=Object(b.a)(u.a.mark((function e(t,r,a,c,i){var n,s,d,l,o,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t+"/pile/discard/add/?cards="+r.toString());case 2:return n=e.sent,e.next=5,n.json();case 5:return e.next=7,fetch(t+"/draw/?count="+r.length);case 7:return s=e.sent,e.next=10,s.json();case 10:if(d=e.sent,console.log("redraw",a,r,d.cards),l=[],d.cards)for(o=0;o<d.cards.length;o++)l.push(d.cards[o].code);return e.next=16,fetch(t+"/pile/"+a+"/add/?cards="+l.toString());case 16:return j=e.sent,e.next=19,j.json();case 19:e.sent&&(c(r.length),i(!1));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=[-35,-21,-18,-13,-11,-10,-9,-8,-7,-6,-5,-4,-3,-2,-1],m=[13,12,11,10,9,8,7,6,5,4,3,2,1,0],g=[27,26,25,24,23,22,21,20,19,18,17,16,15,14],S=["5H","JH","AH","KH","QH","0H","9H","8H","7H","6H","4H","3H","2H"],y=["5D","JD","AH","AD","KD","QD","0D","9D","8D","7D","6D","4D","3D","2D"],k=["5S","JS","AH","AS","KS","QS","2S","3S","4S","6S","7S","8S","9S","0S"],w=["5C","JC","AH","AC","KC","QC","2C","3C","4C","6C","7C","8C","9C","0C"],N=["2H","3H","4H","5H","6H","7H","8H","9H","0H","JH","QH","KH"],D=["AD","2D","3D","4D","5D","6D","7D","8D","9D","0D","JD","QD","KD"],B=["0S","9S","8S","7S","6S","5S","4S","3S","2S","AS","JS","QS","KS"],C=["0C","9C","8C","7C","6C","5C","4C","3C","2C","AC","JC","QC","KC"];function P(e){var t,r,a,c;t=r=a=c=0;for(var i=0;i<5;i++){var n=e[i];switch(n.charAt(1)){case"H":t+=U(n,"H");break;case"D":r+=U(n,"D");break;case"S":a+=U(n,"S");break;case"C":c+=U(n,"C");break;default:console.log("default returned")}}return[t,r,a,c]}function H(e,t,r){var a=e.charAt(1),c=t.charAt(0),i=r,n="";return n=a===c||"AH"===e?U(e,c):a===i?function(e,t){switch(t){case"H":return m[N.indexOf(e)];case"D":return m[D.indexOf(e)];case"S":return m[B.indexOf(e)];case"C":return m[C.indexOf(e)];default:return""}}(e,r):function(e,t){switch(t){case"H":return g[N.indexOf(e)];case"D":return g[D.indexOf(e)];case"S":return g[B.indexOf(e)];case"C":return g[C.indexOf(e)];default:return""}}(e,a),n}function U(e,t){switch(t){case"H":return p[S.indexOf(e)];case"D":return p[y.indexOf(e)];case"S":return p[k.indexOf(e)];case"C":return p[w.indexOf(e)];default:return""}}var I=function(e,t){var r,a;return"Pass"===e.playerBid||("Take"===e.playerBid?(r=t.highBid,a=e.bidder):e.playerBid&&(r=e.playerBid,a=e.bidder)),{highBid:r,highBidder:a}};var Y=r(4),T=function(e){var t=Object(a.useState)(null),r=Object(s.a)(t,2),c=r[0],i=r[1],n=Object(a.useState)(!0),d=Object(s.a)(n,2),l=d[0],o=d[1],j=Object(a.useState)(null),u=Object(s.a)(j,2),b=u[0],h=u[1];return Object(a.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){i(e),o(!1),h(null)})).catch((function(e){"AbortError"===e.name?console.log("fetch aborted"):(o(!1),h(e.message))})),function(){return t.abort()}}),[e]),{data:c,isPending:l,error:b}},A=function(e){var t,r=e.deckUrl,c=e.bidder,i=e.bidData,n=e.dealer,l=e.sendBid,o=Object(a.useState)("Pass"),j=Object(s.a)(o,2),u=j[0],b=j[1],h=T(r+"/pile/"+c+"/list/"),O=h.data,x=h.error,v=h.isPending,f=c===n,p=i.highBid;if(O)if("You"===c)t=!0;else{t=!1;var m,g,S=O.piles[c].cards,y=[],k=Object(Y.a)(S);try{for(k.s();!(g=k.n()).done;)m=g.value,y.push(m.code)}catch(D){k.e(D)}finally{k.f()}var w=function(e,t,r){var a=["Pass","15","20","25","30","30 No Draw"],c=e.sort((function(e,t){return e-t}))[0],i=null;return c<-80?i="30":c<-60?i="25":c<-45?i="20":c<-34&&(i="15"),i&&a.indexOf(i)<=a.indexOf(t.highBid)&&(i=r?"Take":"Pass"),i}(P(y),i,f);l({bidder:c,playerBid:w})}function N(e,t){var r=["Pass","15","20","25","30","30No"];return r.indexOf(t)<r.indexOf(e)}return Object(d.jsxs)("div",{className:"playeraction",children:[x&&Object(d.jsx)("div",{children:x}),v&&Object(d.jsx)("div",{children:"Thinking..."}),t&&Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:function(){l({bidder:c,playerBid:u})},children:[Object(d.jsxs)("select",{value:u,onChange:function(e){return b(e.target.value)},children:[f&&p&&Object(d.jsx)("option",{value:"Take",children:"Take"}),f&&p&&Object(d.jsx)("option",{value:"Pass",children:"Let Bidder Have It"}),!f&&Object(d.jsx)("option",{value:"Pass",children:"Pass"}),N("15",p)&&Object(d.jsx)("option",{value:"15",children:"15"}),N("20",p)&&Object(d.jsx)("option",{value:"20",children:"20"}),N("25",p)&&Object(d.jsx)("option",{value:"25",children:"25"}),N("30",p)&&Object(d.jsx)("option",{value:"30",children:"30"}),N("30No",p)&&Object(d.jsx)("option",{value:"30No",children:"30 No Draw"})]}),Object(d.jsx)("button",{children:"Place Bid"})]})})]})},L=(r(8),function(e){var t=e.card;return Object(d.jsx)("div",{className:"cardslot",children:t&&Object(d.jsx)("img",{src:t.image,alt:"Card",width:"100%"})})}),M=function(e){var t=e.deckUrl,r=e.player,a=e.round,c=T(t+"/pile/"+r+"/list/"),i=c.data,n=c.isPending,s=c.error,l=[];return i&&i.piles[r]&&i.piles[r].cards&&(l=i.piles[r].cards),Object(d.jsxs)("div",{children:[s&&Object(d.jsx)("div",{children:s}),n&&Object(d.jsx)("div",{children:"Loading..."}),i&&l&&Object(d.jsx)("div",{className:"handwindow",children:Object(d.jsxs)("div",{className:"hand",children:[Object(d.jsx)(L,{card:l[0],round:a}),Object(d.jsx)(L,{card:l[1],round:a}),Object(d.jsx)(L,{card:l[2],round:a}),Object(d.jsx)(L,{card:l[3],round:a}),Object(d.jsx)(L,{card:l[4],round:a})]})})]})},J=(r(9),function(e){var t=e.deckUrl,r=e.bidData,c=e.sendTrumpSuit,i=Object(a.useState)("Hearts"),n=Object(s.a)(i,2),l=n[0],o=n[1],j=r.highBidder,u=T(t+"/pile/"+j+"/list/"),b=u.data,h=u.error,O=u.isPending;if(console.log("bid",j,r),b&&"You"!==j){var x,v,f=b.piles[j].cards,p=[],m=Object(Y.a)(f);try{for(m.s();!(v=m.n()).done;)x=v.value,p.push(x.code)}catch(S){m.e(S)}finally{m.f()}var g=function(e){var t=JSON.stringify(e),r=e.sort((function(e,t){return e-t}))[0];return["Hearts","Diamonds","Spades","Clubs"][JSON.parse(t).indexOf(r)]}(P(p));c(g)}return Object(d.jsxs)("div",{children:[h&&Object(d.jsx)("div",{children:h}),O&&Object(d.jsx)("div",{children:"Thinking..."}),"You"===r.highBidder&&Object(d.jsx)("div",{className:"playeraction",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(l)},children:[Object(d.jsxs)("select",{value:l,onChange:function(e){return o(e.target.value)},children:[Object(d.jsx)("option",{value:"Hearts",children:"Hearts"}),Object(d.jsx)("option",{value:"Diamonds",children:"Diamonds"}),Object(d.jsx)("option",{value:"Spades",children:"Spades"}),Object(d.jsx)("option",{value:"Clubs",children:"Clubs"})]}),Object(d.jsx)("button",{children:"Select Suit"})]})})]})}),R=function(e){var t=e.bid,r=e.bidder;return console.log("ViewBid",t),Object(d.jsxs)("div",{className:"playermessagebox",children:[t&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"playermessageboxheader",children:t.bidder}),Object(d.jsx)("div",{className:"playermessageboxtext",children:t.playerBid||"Pass"})]}),!t&&"You"!==r&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"playermessageboxheader",children:r}),Object(d.jsx)("div",{className:"playermessageboxtext",children:"\xa0"})]}),!t&&"You"===r&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"playermessageboxheader",children:"You"}),Object(d.jsx)("div",{className:"playermessageboxtext",children:"We're waiting!"})]})]})},E=function(e){var t=e.draw,r=e.drawer;return Object(d.jsxs)("div",{className:"playermessagebox",children:[t&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"playermessageboxheader",children:r}),Object(d.jsxs)("div",{className:"playermessageboxtext",children:["Draws ",t]})]}),!t&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"playermessageboxheader",children:r}),Object(d.jsx)("div",{className:"playermessageboxtext",children:"\xa0"})]})]})},W=function(e){var t=e.card,r=e.player;return Object(d.jsx)("div",{className:"playermessagebox",children:t&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"playermessageboxheader",children:r}),Object(d.jsx)("div",{className:"playerplayedcard",children:Object(d.jsx)("img",{src:t.image,alt:"Card",width:"93px"})})]})})},K=(r(21),function(e){var t=e.stage,r=e.players,a=e.actions;e.bidData;return Object(d.jsxs)("div",{className:"table",children:[Object(d.jsx)("div",{className:"tablerowtop",children:Object(d.jsx)("div",{className:"tableplayerbox player3",children:Object(d.jsxs)("div",{className:"playerslot",children:["Bidding"===t&&Object(d.jsx)(R,{bid:a[2],bidder:r[2]}),"Drawing"===t&&Object(d.jsx)(E,{draw:a[2],drawer:r[2]}),"Playing"===t&&Object(d.jsx)(W,{card:a[2],player:r[2]})]})})}),Object(d.jsxs)("div",{className:"tablerowmid",children:[Object(d.jsx)("div",{className:"tableplayerbox player2",children:Object(d.jsxs)("div",{className:"playerslot",children:["Bidding"===t&&Object(d.jsx)(R,{bid:a[1],bidder:r[1]}),"Drawing"===t&&Object(d.jsx)(E,{draw:a[1],drawer:r[1]}),"Playing"===t&&Object(d.jsx)(W,{card:a[1],player:r[1]})]})}),Object(d.jsx)("div",{className:"tableplayerbox player4",children:Object(d.jsxs)("div",{className:"playerslot",children:["Bidding"===t&&Object(d.jsx)(R,{bid:a[3],bidder:r[3]}),"Drawing"===t&&Object(d.jsx)(E,{draw:a[3],drawer:r[3]}),"Playing"===t&&Object(d.jsx)(W,{card:a[3],player:r[3]})]})})]}),Object(d.jsx)("div",{className:"tablerowbottom",children:Object(d.jsx)("div",{className:"tableplayerbox player1",children:Object(d.jsxs)("div",{className:"playerslot",children:["Bidding"===t&&Object(d.jsx)(R,{bid:a[0],bidder:r[0]}),"Drawing"===t&&Object(d.jsx)(E,{draw:a[0],drawer:r[0]}),"Playing"===t&&Object(d.jsx)(W,{card:a[0]})]})})}),Object(d.jsx)("div",{className:"tablerowlog",children:Object(d.jsx)("div",{className:"tablelogbox",children:Object(d.jsx)("div",{className:"logslot"})})})]})}),Q=function(e){var t=e.deckUrl,r=e.bidOrder,c=e.sendBidData,i=Object(a.useState)(""),n=Object(s.a)(i,2),l=n[0],o=n[1],j=Object(a.useState)(""),u=Object(s.a)(j,2),b=u[0],h=u[1],O=Object(a.useState)(""),x=Object(s.a)(O,2),v=x[0],f=x[1],p=Object(a.useState)(""),m=Object(s.a)(p,2),g=m[0],S=m[1],y=Object(a.useState)(""),k=Object(s.a)(y,2),w=k[0],N=k[1],D=Object(a.useState)(1),B=Object(s.a)(D,2),C=B[0],P=B[1],H=Object(a.useState)({highBid:null,highBidder:null,trumpSuit:null}),U=Object(s.a)(H,2),Y=U[0],T=U[1];Object(a.useEffect)((function(){T({highBid:null,highBidder:null,trumpSuit:null})}),[r]);var L=r[C-1],R=r[3];switch(C){case 1:if(l){var E=I(l,Y),W=E.highBid,Q=E.highBidder;W&&T({highBid:W,highBidder:Q,trumpSuit:w}),P(2)}break;case 2:if(b){var G=I(b,Y),V=G.highBid,_=G.highBidder;V&&T({highBid:V,highBidder:_,trumpSuit:w}),P(3)}break;case 3:if(v){var q=I(v,Y),z=q.highBid,F=q.highBidder;z&&T({highBid:z,highBidder:F,trumpSuit:w}),P(4)}break;case 4:if(g){var X=I(g,Y),Z=X.highBid,$=X.highBidder;Z?T({highBid:Z,highBidder:$,trumpSuit:w}):Y.highBid||T({highBid:"15",highBidder:R,trumpSuit:w}),P(5)}break;case 5:if(w){var ee=Y.highBid,te=Y.highBidder;T({highBid:ee,highBidder:te,trumpSuit:w}),P(6)}break;case 6:c(Y);break;default:console.log("bid turn default hit")}var re=[l,b,v,g];function ae(e,t){var r=t.indexOf(e);return re[r]}var ce=["You","Mario","Partner","Luigi"];return Object(d.jsxs)("div",{className:"game",children:[Object(d.jsx)("div",{className:"viewTableContainer",children:Object(d.jsx)(K,{stage:"Bidding",players:ce,actions:function(e,t){for(var r=[],a=0;a<ce.length;a++)r[a]=ae(ce[a],t);return r}(0,r),bidData:Y})}),Object(d.jsx)("div",{className:"playerWindowContainer",children:Object(d.jsxs)("div",{className:"playerwindow",children:[Object(d.jsx)(M,{deckUrl:t,player:"You"}),1===C&&Object(d.jsx)(A,{deckUrl:t,bidder:L,bidData:Y,dealer:R,sendBid:o}),2===C&&Object(d.jsx)(A,{deckUrl:t,bidder:L,bidData:Y,dealer:R,sendBid:h}),3===C&&Object(d.jsx)(A,{deckUrl:t,bidder:L,bidData:Y,dealer:R,sendBid:f}),4===C&&Object(d.jsx)(A,{deckUrl:t,bidder:L,bidData:Y,dealer:R,sendBid:S}),5===C&&Object(d.jsx)(J,{deckUrl:t,bidData:Y,sendTrumpSuit:N})]})})]})};function G(e,t,r){for(var a=null,c=-50,i=0;i<e.length;i++){var n=H(e[i].code,t,r);n>c&&(c=n,a=i)}return e[a]}function V(e,t,r){for(var a=null,c=50,i=0;i<e.length;i++){var n=H(e[i].code,t,r);n<c&&(c=n,a=i)}return e[a]}function _(){return(_=Object(b.a)(u.a.mark((function e(t,r,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t+"/pile/discard/add/?cards="+r.code).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){return r}));case 2:a(r);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=function(e){var t=e.deckUrl,r=e.player,c=(e.position,e.leadSuit,e.sendPlayCard),i=(e.trumpSuit,Object(a.useState)(0)),n=Object(s.a)(i,2),l=n[0],o=n[1],j=T(t+"/pile/"+r+"/list/"),u=j.data,b=j.error,h=j.isPending,O=[];return u&&(O=u.piles[r].cards),Object(d.jsxs)("div",{children:[b&&Object(d.jsx)("div",{children:b}),h&&Object(d.jsx)("div",{children:"Thinking..."}),u&&Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t,r){_.apply(this,arguments)}(t,O[l],c)},children:[Object(d.jsxs)("select",{value:l,onChange:function(e){return o(e.target.value)},children:[O[0]&&Object(d.jsx)("option",{value:0,children:O[0].code}),O[1]&&Object(d.jsx)("option",{value:1,children:O[1].code}),O[2]&&Object(d.jsx)("option",{value:2,children:O[2].code}),O[3]&&Object(d.jsx)("option",{value:3,children:O[3].code}),O[4]&&Object(d.jsx)("option",{value:4,children:O[4].code})]}),Object(d.jsx)("button",{children:"Play Card"})]})]})},z=function(e){var t=e.deckUrl,r=e.player,c=e.position,i=e.leadSuit,n=e.sendPlayCard,l=e.trumpSuit,o=T(t+"/pile/"+r+"/list/"),j=o.data,u=o.error,b=o.isPending,h=Object(a.useState)(null),O=Object(s.a)(h,2),x=O[0],v=O[1];if(j&&!x){var f=function(e,t,r,a){var c;switch(e){case 1:c=G(t,r);break;case 2:c=G(t,r,a);break;case 3:case 4:c=V(t,r,a);break;default:console.log("defaultHit")}return c}(c,j.piles[r].cards,l,i);fetch(t+"/pile/discard/add/?cards="+f.code).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){v(f)}))}return j&&x&&n(x),Object(d.jsxs)("div",{children:[u&&Object(d.jsx)("div",{children:u}),b&&Object(d.jsx)("div",{children:"Thinking..."}),j&&Object(d.jsx)("div",{children:"Data"})]})};var F=function(e){var t=e.bidData;return Object(d.jsxs)("div",{className:"bidInfo",children:[Object(d.jsx)("div",{className:"bidInfoBox",children:"Bid Info"}),Object(d.jsxs)("div",{className:"bidInfoBox",children:["Bid: ",t.highBid," "]}),Object(d.jsxs)("div",{className:"bidInfoBox",children:["Bidder: ",t.highBidder]}),Object(d.jsxs)("div",{className:"bidInfoBox",children:["Suit: ",t.trumpSuit]})]})},X=function(e){var t=e.deckUrl,r=e.player,c=e.order,i=e.sendBookInfo,n=e.book,l=e.bookInfo,o=e.bidData,j=Object(a.useState)(""),u=Object(s.a)(j,2),b=u[0],h=u[1],O=Object(a.useState)(""),x=Object(s.a)(O,2),v=x[0],f=x[1],p=Object(a.useState)(""),m=Object(s.a)(p,2),g=m[0],S=m[1],y=Object(a.useState)(""),k=Object(s.a)(y,2),w=k[0],N=k[1],D=Object(a.useState)(""),B=Object(s.a)(D,2),C=B[0],P=B[1],U=Object(a.useState)(1),I=Object(s.a)(U,2),Y=I[0],T=I[1],A=[b,v,g,w],L=n,J=function(e,t){var r,a=e[e.length-1];return a&&(r=a.winningPlayer),"Mario"===r?["Mario","Partner","Luigi","You"]:"Partner"===r?["Partner","Luigi","You","Mario"]:"Luigi"===r?["Luigi","You","Mario","Partner"]:"You"===r?["You","Mario","Partner","Luigi"]:t}(l,c);if(1===Y&&b)P(b.code.charAt(1)),T(2);else if(2===Y&&v)T(3);else if(3===Y&&g)T(4);else if(4===Y&&w)setTimeout((function(){T(5)}),2e3);else if(5===Y){for(var R,E=50,W=0;W<A.length;W++){var Q=H(A[W].code,o.trumpSuit,C);Q<E&&(E=Q,R=W)}var G=A[R].code;i({bookNum:L,winningPlayer:J[R],highCard:G})}function V(e,a){return Z(r,J)===e?Object(d.jsx)(q,{deckUrl:t,player:r,position:e,sendPlayCard:a,trumpSuit:o.trumpSuit,leadSuit:C}):Object(d.jsx)(z,{deckUrl:t,player:J[e-1],position:e,sendPlayCard:a,trumpSuit:o.trumpSuit,leadSuit:C})}function _(e,t){var r=t.indexOf(e);return A[r]}var X=["You","Mario","Partner","Luigi"];return Object(d.jsxs)("div",{className:"game",children:[Object(d.jsx)("div",{className:"viewTableContainer",children:Object(d.jsx)(K,{stage:"Playing",players:X,actions:function(e){for(var t=[],r=0;r<X.length;r++)t[r]=_(X[r],e);return t}(J)})}),Object(d.jsx)("div",{className:"bidInfoContainer",children:Object(d.jsx)(F,{bidData:o})}),Object(d.jsx)("div",{className:"playerWindowContainer"}),Object(d.jsxs)("div",{className:"playerwindow",children:[Object(d.jsx)(M,{deckUrl:t,player:r}),Object(d.jsxs)("div",{className:"playeraction",children:[Y>0&&!b&&V(1,h),Y>1&&!v&&V(2,f),Y>2&&!g&&V(3,S),Y>3&&!w&&V(4,N)]})]})]})};function Z(e,t){return t.indexOf(e)+1}r(22);var $=function(e){var t=e.deckUrl,r=e.drawer,c=(e.trumpSuit,e.sendDraw),i=Object(a.useState)(!1),n=Object(s.a)(i,2),l=n[0],o=n[1],j=Object(a.useState)(!1),u=Object(s.a)(j,2),b=u[0],h=u[1],O=Object(a.useState)(!1),x=Object(s.a)(O,2),f=x[0],p=x[1],m=Object(a.useState)(!1),g=Object(s.a)(m,2),S=g[0],y=g[1],k=Object(a.useState)(!1),w=Object(s.a)(k,2),N=w[0],D=w[1],B=T(t+"/pile/"+r+"/list/"),C=B.data,P=B.error,H=B.isPending;return Object(d.jsxs)("div",{children:[P&&Object(d.jsx)("div",{children:P}),H&&Object(d.jsx)("div",{children:"Thinking..."}),C&&Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault();for(var a=[l,b,f,S,N],i=[],n=0;n<5;n++)a[n]&&i.push(C.piles[r].cards[n].code);v(t,i,r,c)},children:[Object(d.jsxs)("div",{className:"discardhandwindow",children:[Object(d.jsxs)("div",{className:"discardHand",children:[Object(d.jsx)("div",{className:"discardbox",children:Object(d.jsx)("input",{type:"checkbox",name:"card0",onChange:function(e){return o(e.target.checked)},checked:l})}),Object(d.jsx)("div",{className:"discardbox",children:Object(d.jsx)("input",{type:"checkbox",name:"card1",onChange:function(e){return h(e.target.checked)},checked:b})}),Object(d.jsx)("div",{className:"discardbox",children:Object(d.jsx)("input",{type:"checkbox",name:"card2",onChange:function(e){return p(e.target.checked)},checked:f})}),Object(d.jsx)("div",{className:"discardbox",children:Object(d.jsx)("input",{type:"checkbox",name:"card3",onChange:function(e){return y(e.target.checked)},checked:S})}),Object(d.jsx)("div",{className:"discardbox",children:Object(d.jsx)("input",{type:"checkbox",name:"card4",onChange:function(e){return D(e.target.checked)},checked:N})})]}),Object(d.jsx)("div",{className:"playeraction"})]}),Object(d.jsx)("button",{children:"Discard Selected"})]})]})},ee=function(e){var t=e.deckUrl,r=e.drawer,c=e.trumpSuit,i=e.sendDraw,n=Object(a.useState)(null),l=Object(s.a)(n,2),o=l[0],j=l[1],u=Object(a.useState)(!0),b=Object(s.a)(u,2),h=b[0],O=b[1],x=T(t+"/pile/"+r+"/list/"),f=x.data,p=x.error,m=x.isPending;return Object(a.useEffect)((function(){if(f){var e,a,i=f.piles[r].cards,n=[],s=Object(Y.a)(i);try{for(s.s();!(a=s.n()).done;)"AH"!==(e=a.value).code&&e.code.charAt(1)!==c.charAt(0)&&n.push(e.code)}catch(d){s.e(d)}finally{s.f()}v(t,n,r,j,O)}}),[t,r,c,f]),f&&o&&!h&&i(o),Object(d.jsxs)("div",{children:[p&&Object(d.jsx)("div",{children:p}),m&&Object(d.jsx)("div",{children:"Thinking...."}),f&&Object(d.jsx)("div",{children:"Done"}),";"]})},te=function(e){var t=e.deckUrl,r=e.roundOrder,c=e.bidData,i=e.sendDiscardData,n=Object(a.useState)(""),l=Object(s.a)(n,2),o=l[0],j=l[1],u=Object(a.useState)(""),b=Object(s.a)(u,2),h=b[0],O=b[1],x=Object(a.useState)(""),v=Object(s.a)(x,2),f=v[0],p=v[1],m=Object(a.useState)(""),g=Object(s.a)(m,2),S=g[0],y=g[1],k=Object(a.useState)(1),w=Object(s.a)(k,2),N=w[0],D=w[1];switch(N){case 1:o&&D(2);break;case 2:h&&D(3);break;case 3:f&&D(4);break;case 4:S&&D(5);break;case 5:i(!0);break;default:console.log("default hit")}var B=r[N-1];function C(e,a){return Z("You",r)===e?Object(d.jsx)($,{deckUrl:t,drawer:B,trumpSuit:c.trumpSuit,sendDraw:a}):Object(d.jsx)(ee,{deckUrl:t,drawer:B,trumpSuit:c.trumpSuit,sendDraw:a})}var P=[o,h,f,S];function H(e,t){var r=t.indexOf(e);return P[r]}var U=["You","Mario","Partner","Luigi"];return Object(d.jsxs)("div",{className:"game",children:[Object(d.jsx)("div",{className:"viewTableContainer",children:Object(d.jsx)(K,{stage:"Drawing",players:U,actions:function(e,t){for(var r=[],a=0;a<U.length;a++)r[a]=H(U[a],t);return r}(0,r),bidData:c})}),Object(d.jsx)("div",{className:"bidInfoContainer",children:Object(d.jsx)(F,{bidData:c})}),Object(d.jsx)("div",{className:"playerWindowContainer",children:Object(d.jsxs)("div",{className:"playerwindow",children:[Object(d.jsx)(M,{deckUrl:t,player:"You"}),N>0&&!o&&C(1,j),N>1&&!h&&C(2,O),N>2&&!f&&C(3,p),N>3&&!S&&C(4,y),4===N&&S&&Object(d.jsx)("div",{children:"Hey!"})]})})]})},re=function(e){var t=e.team1,r=e.team2,a=e.sendRoundScore,c=e.sendStage;return Object(d.jsxs)("div",{classname:"gamewindow",children:[Object(d.jsxs)("div",{className:"biddingwindow",children:[Object(d.jsx)("div",{className:"windowheader",children:"Round Over!"}),Object(d.jsxs)("div",{className:"playwinner",children:["Team 1: ",t]}),Object(d.jsxs)("div",{className:"playwinner",children:["Team 2: ",r]})]}),Object(d.jsx)("div",{className:"nextroundbutton",children:Object(d.jsx)("button",{onClick:function(){a([t,r]),c("Over")},children:"Next Round"})})]})},ae=function(e){var t=e.deckUrl,r=e.round,c=e.sendRoundScore,i=e.newRound,n=Object(a.useState)(!0),l=Object(s.a)(n,2),o=l[0],j=l[1],u=Object(a.useState)(""),b=Object(s.a)(u,2),O=b[0],x=b[1],v=Object(a.useState)("Deal"),f=Object(s.a)(v,2),p=f[0],m=f[1],g=Object(a.useState)(!1),S=Object(s.a)(g,2),y=S[0],k=S[1],w=Object(a.useState)(null),N=Object(s.a)(w,2),D=N[0],B=N[1],C=Object(a.useState)(1),P=Object(s.a)(C,2),U=P[0],I=P[1],Y=Object(a.useState)([]),T=Object(s.a)(Y,2),A=T[0],L=T[1],M=Object(a.useState)(null),J=Object(s.a)(M,2),R=J[0],E=J[1];i&&"Over"===p&&(j(!0),x(""),m("Deal"),k(!1),B(null),I(1),L([]),E(null),console.log("wipe"));var W="You";Object(a.useEffect)((function(){!function(e,t,r,a){h.apply(this,arguments)}(t,r,j,E)}),[t,r]),t&&"Deal"===p&&!o&&m("Bid"),O&&"Bid"===p&&!o&&m("Discard"),y&&"Discard"===p&&m("Play"),D&&(A[U-1]=D,L(A),B(""),I(U+1)),"Play"===p&&5===A.length&&(m("Winner"),I(0));var K=0,G=0;if("Winner"===p){for(var V=50,_=null,q=0;q<5;q++){"You"===A[q].winningPlayer||"Partner"===A[q].winningPlayer?K+=1:G+=1;var z=H(A[q].highCard,O.trumpSuit);V>z&&(V=z,_=A[q].winningPlayer)}"You"===_||"Partner"===_?K+=1:G+=1,6===K&&(K=9),6===G&&(G=9);var F=O.highBid;"You"===O.highBidder||"Partner"===O.highBidder?"15"===F&&K<3?K=-3:"20"===F&&K<4?K=-4:"25"===F&&K<5?K=-5:"30"===F&&K<6?K=-6:"30No"===F&&G<6&&(K=-12):"15"===F&&G<3?G=-3:"20"===F&&G<4?G=-4:"25"===F&&G<5?G=-5:"30"===F&&G<6?G=-6:"30No"===F&&G<6&&(G=-12)}return Object(d.jsxs)("div",{className:"content",children:["Deal"===p&&o&&Object(d.jsx)("div",{className:"gamewindow loading",children:"Dealing...."}),"Bid"===p&&R&&Object(d.jsx)("div",{children:Object(d.jsx)(Q,{deckUrl:t,bidOrder:R,sendBidData:x})}),"Discard"===p&&Object(d.jsx)("div",{children:Object(d.jsx)(te,{deckUrl:t,roundOrder:R,bidData:O,sendDiscardData:k})}),"Play"===p&&1===U&&Object(d.jsx)("div",{children:Object(d.jsx)(X,{deckUrl:t,player:W,order:R,sendBookInfo:B,book:U,bookInfo:A,bidData:O})}),"Play"===p&&2===U&&Object(d.jsx)("div",{children:Object(d.jsx)(X,{deckUrl:t,player:W,order:R,sendBookInfo:B,book:U,bookInfo:A,bidData:O})}),"Play"===p&&3===U&&Object(d.jsx)("div",{children:Object(d.jsx)(X,{deckUrl:t,player:W,order:R,sendBookInfo:B,book:U,bookInfo:A,bidData:O})}),"Play"===p&&4===U&&Object(d.jsx)("div",{children:Object(d.jsx)(X,{deckUrl:t,player:W,order:R,sendBookInfo:B,book:U,bookInfo:A,bidData:O})}),"Play"===p&&5===U&&Object(d.jsx)("div",{children:Object(d.jsx)(X,{deckUrl:t,player:W,order:R,sendBookInfo:B,book:U,bookInfo:A,bidData:O})}),"Winner"===p&&Object(d.jsx)(re,{team1:K,team2:G,sendRoundScore:c,sendStage:m})]})},ce=function(){var e=T("https://deckofcardsapi.com/api/deck/new/"),t=e.data,r=e.isPending,c=e.error,i=Object(a.useState)(1),n=Object(s.a)(i,2),l=n[0],j=n[1],u=Object(a.useState)([0,0]),b=Object(s.a)(u,2),h=b[0],O=b[1],x=Object(a.useState)(null),v=Object(s.a)(x,2),f=v[0],p=v[1],m=Object(a.useState)([]),g=Object(s.a)(m,2),S=g[0],y=g[1],k=Object(a.useState)(""),w=Object(s.a)(k,2),N=w[0],D=w[1],B=null;t&&(B="https://deckofcardsapi.com/api/deck/"+t.deck_id);var C=[];return f&&(S[l]=f,C[0]=h[0]+f[0],C[1]=h[1]+f[1],console.log("scoring",C,f,l),y(S),O(C),C[0]>30&&D("Team 1 Wins"),C[1]>30&&D("Team 2 Wins"),p(null),j(l+1)),Object(d.jsxs)("div",{className:"gamewindow",children:[r&&Object(d.jsx)("div",{className:"gamewindow loading",children:"Setting up..."}),c&&Object(d.jsx)("div",{className:"gamewindow loading",children:c}),B&&!N&&Object(d.jsxs)("div",{className:"game",children:[Object(d.jsx)(o,{round:l,gameScore:h}),Object(d.jsx)(ae,{deckUrl:B,round:l,sendRoundScore:p,newRound:!0})]}),N&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:N}),Object(d.jsxs)("h3",{children:["Team 1: ",h[0]]}),Object(d.jsxs)("h3",{children:["Team 2: ",h[1]]}),Object(d.jsx)("button",{children:"Play Again"})]})]})},ie=(r(23),function(){return Object(d.jsxs)("div",{className:"footer",children:[Object(d.jsx)("div",{className:"footeritem",children:Object(d.jsx)("a",{href:"https://github.com/dsull29/45s",target:"new",children:"GitHub Page"})}),Object(d.jsx)("div",{className:"footeritem",children:Object(d.jsx)("a",{href:"https://github.com/dsull29/45s/issues",target:"new",children:"Report a bug"})})]})});var ne=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),r=t[0],c=t[1];return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(l,{}),!1===r&&Object(d.jsx)("div",{className:"gamewindow",children:Object(d.jsx)("button",{className:"startbutton",onClick:function(){return c(!0)},children:"Start Game"})}),r&&Object(d.jsx)(ce,{}),Object(d.jsx)(ie,{})]})};n.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(ne,{})}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.93e90011.chunk.js.map